<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>셀러 입점신청 - 모여라딜</title>
    <meta name="description" content="모여라딜 셀러 입점신청 - 함께 성장할 파트너를 기다립니다">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #fff;
            color: #333;
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            word-break: keep-all;
            line-height: 1.6;
            min-height: 100vh;
        }

        .page-container {
            display: flex;
            min-height: 100vh;
        }

        /* 왼쪽: 컨텐츠 영역 */
        .left-section {
            flex: 1;
            background: #000;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 60px 40px;
        }

        .hero-message {
            text-align: center;
            margin-bottom: 40px;
        }

        .hero-message h1 {
            color: #fff;
            font-size: 32px;
            font-weight: 700;
            line-height: 1.4;
            margin-bottom: 16px;
        }

        .hero-message h1 .highlight {
            color: #fe9f29;
        }

        .hero-message p {
            color: rgba(255,255,255,0.7);
            font-size: 16px;
        }

        .slider-container {
            overflow: hidden;
            margin: 0 40px;
            padding: 20px 0;
        }

        .slider-track {
            display: flex;
            gap: 16px;
            animation: slideLeft 30s linear infinite;
        }

        .slider-track:hover {
            animation-play-state: paused;
        }

        @keyframes slideLeft {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .slide-item {
            flex-shrink: 0;
            width: 260px;
            height: 380px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            background: #1a1a1a;
        }

        .slide-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bottom-message {
            text-align: center;
            margin-top: 40px;
        }

        .bottom-message h2 {
            color: #fff;
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .bottom-message h2 .highlight {
            color: #fe9f29;
        }

        .bottom-message p {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
        }

        /* 오른쪽: 폼 영역 */
        .right-section {
            flex: 1;
            padding: 60px 48px;
            max-width: 520px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow-y: auto;
        }

        .form-header {
            margin-bottom: 32px;
        }

        .form-header h2 {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }

        .form-header p {
            font-size: 14px;
            color: #666;
        }

        .form-container {
            max-width: 420px;
            width: 100%;
        }

        .form-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 700;
            color: #fe9f29;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(254,159,41,0.3);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .required {
            color: #fe9f29;
            margin-left: 2px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 14px 0;
            background: transparent;
            border: none;
            border-bottom: 1px solid #ddd;
            color: #333;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .form-select {
            cursor: pointer;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-bottom-color: #fe9f29;
        }

        .form-input::placeholder, .form-textarea::placeholder {
            color: #aaa;
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
            padding: 14px 0;
        }

        .form-hint {
            font-size: 12px;
            color: #999;
            margin-top: 6px;
        }

        /* 체크박스 그룹 */
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
            padding-bottom: 12px;
            border-bottom: 1px solid #ddd;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #fe9f29;
        }

        .checkbox-item label {
            font-size: 14px;
            color: #555;
            cursor: pointer;
        }

        /* 개인정보 동의 */
        .privacy-group {
            margin-bottom: 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-wrapper input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #fe9f29;
        }

        .checkbox-wrapper label {
            font-size: 14px;
            color: #333;
            cursor: pointer;
        }

        .privacy-link {
            font-size: 13px;
            color: #666;
            text-decoration: none;
        }

        .privacy-link:hover {
            color: #fe9f29;
            text-decoration: underline;
        }

        /* 제출 버튼 */
        .submit-btn {
            width: 100%;
            background: #333;
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            padding: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            background: #000;
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* 성공 모달 */
        .success-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .success-modal.active {
            display: flex;
        }

        .success-content {
            background: #fff;
            border-radius: 16px;
            padding: 48px 40px;
            text-align: center;
            max-width: 420px;
            margin: 20px;
        }

        .success-icon {
            font-size: 56px;
            margin-bottom: 20px;
        }

        .success-content h2 {
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 16px;
        }

        .success-content p {
            font-size: 15px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 28px;
        }

        .close-btn {
            background: #333;
            color: #fff;
            font-size: 15px;
            font-weight: 600;
            padding: 14px 48px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #000;
        }

        /* 반응형 */
        @media (max-width: 1024px) {
            .page-container {
                flex-direction: column;
            }

            .left-section {
                min-height: 450px;
                padding: 40px 20px;
            }

            .hero-message h1 {
                font-size: 26px;
            }

            .right-section {
                max-width: none;
                padding: 40px 24px;
            }

            .form-container {
                max-width: 480px;
                margin: 0 auto;
            }
        }

        @media (max-width: 768px) {
            .left-section {
                min-height: 380px;
                padding: 32px 16px;
            }

            .hero-message {
                margin-bottom: 24px;
            }

            .hero-message h1 {
                font-size: 22px;
            }

            .hero-message p {
                font-size: 14px;
            }

            .slide-item {
                width: 160px;
                height: 220px;
            }

            .bottom-message {
                margin-top: 24px;
            }

            .bottom-message h2 {
                font-size: 18px;
            }

            .right-section {
                padding: 32px 20px;
            }

            .form-header h2 {
                font-size: 20px;
            }

            .success-content {
                padding: 36px 24px;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- 왼쪽: 컨텐츠 영역 -->
        <div class="left-section">
            <div class="hero-message">
                <h1>나의 <span class="highlight">영향력</span>을<br>수익으로 연결하는<br>가장 쉬운 방법</h1>
                <p>모여라딜</p>
            </div>

            <div class="slider-container">
                <div class="slider-track" id="sliderTrack">
                    <div class="slide-item">
                        <img src="/assets/slider/slide1.png" alt="콘텐츠 1">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide2.png" alt="콘텐츠 2">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide3.png" alt="콘텐츠 3">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide4.png" alt="콘텐츠 4">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide5.png" alt="콘텐츠 5">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide6.png" alt="콘텐츠 6">
                    </div>
                    <div class="slide-item">
                        <img src="/assets/slider/slide7.png" alt="콘텐츠 7">
                    </div>
                </div>
            </div>

            <div class="bottom-message">
                <h2>콘텐츠로 <span class="highlight">팬과 함께</span> 성장하세요</h2>
                <p>모여라딜이 함께합니다</p>
            </div>
        </div>

        <!-- 오른쪽: 입점신청 폼 -->
        <div class="right-section">
            <div class="form-header">
                <h2>셀러 입점 신청</h2>
                <p>함께 성장할 파트너를 기다립니다</p>
            </div>

            <div class="form-container">
                <form id="sellerApplicationForm">
                    <!-- 1. 기본 정보 -->
                    <div class="form-section">
                        <h3 class="section-title">기본 정보</h3>

                        <div class="form-group">
                            <label class="form-label">성함<span class="required">*</span></label>
                            <input type="text" class="form-input" id="name" required placeholder="홍길동">
                        </div>

                        <div class="form-group">
                            <label class="form-label">연락처<span class="required">*</span></label>
                            <input type="tel" class="form-input" id="phone" required placeholder="010-0000-0000" maxlength="13">
                        </div>

                        <div class="form-group">
                            <label class="form-label">샘플 수령 주소<span class="required">*</span></label>
                            <input type="text" class="form-input" id="address" required placeholder="서울시 강남구 테헤란로 123">
                            <p class="form-hint">제품 샘플을 받으실 주소를 입력해주세요</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">사업자 유형<span class="required">*</span></label>
                            <select class="form-select" id="businessType" required>
                                <option value="">선택하세요</option>
                                <option value="개인">개인 (사업자 없음)</option>
                                <option value="개인사업자">개인사업자</option>
                                <option value="법인사업자">법인사업자</option>
                            </select>
                        </div>
                    </div>

                    <!-- 2. SNS 정보 -->
                    <div class="form-section">
                        <h3 class="section-title">SNS 정보</h3>

                        <div class="form-group">
                            <label class="form-label">주 활동 채널<span class="required">*</span></label>
                            <select class="form-select" id="snsType" required>
                                <option value="">선택하세요</option>
                                <option value="인스타그램">인스타그램</option>
                                <option value="블로그">블로그 (네이버/티스토리)</option>
                                <option value="유튜브">유튜브</option>
                                <option value="틱톡">틱톡</option>
                                <option value="카카오스토리">카카오스토리</option>
                                <option value="기타">기타</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">채널 주소/계정<span class="required">*</span></label>
                            <input type="text" class="form-input" id="snsAccount" required placeholder="@계정명 또는 채널 URL">
                            <p class="form-hint">@계정명 또는 전체 URL을 입력해주세요</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">기타 활동 채널</label>
                            <input type="text" class="form-input" id="otherSns" placeholder="추가 SNS 계정이나 채널 URL">
                        </div>
                    </div>

                    <!-- 3. 활동 정보 -->
                    <div class="form-section">
                        <h3 class="section-title">활동 정보</h3>

                        <div class="form-group">
                            <label class="form-label">주요 콘텐츠 카테고리<span class="required">*</span></label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_parenting" name="category" value="육아">
                                    <label for="cat_parenting">육아</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_living" name="category" value="리빙">
                                    <label for="cat_living">리빙</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_food" name="category" value="식품">
                                    <label for="cat_food">식품</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_care" name="category" value="케어">
                                    <label for="cat_care">케어</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_pet" name="category" value="애견">
                                    <label for="cat_pet">애견</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_fashion" name="category" value="패션">
                                    <label for="cat_fashion">패션</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_beauty" name="category" value="뷰티">
                                    <label for="cat_beauty">뷰티</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cat_etc" name="category" value="기타">
                                    <label for="cat_etc">기타</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">공구 진행 경험</label>
                            <select class="form-select" id="experience">
                                <option value="">선택하세요</option>
                                <option value="없음">없음 (처음입니다)</option>
                                <option value="1~3회">1~3회</option>
                                <option value="4~10회">4~10회</option>
                                <option value="10회 이상">10회 이상</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">자기소개 및 메모</label>
                            <textarea class="form-textarea" id="introduction" placeholder="본인 소개, 활동 스타일, 문의사항 등 자유롭게 작성해주세요"></textarea>
                        </div>
                    </div>

                    <div class="privacy-group">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="privacyAgree" required>
                            <label for="privacyAgree">개인정보처리방침에 동의합니다.</label>
                        </div>
                        <a href="/privacy/" target="_blank" class="privacy-link">[약관확인]</a>
                    </div>

                    <button type="submit" class="submit-btn" id="submitBtn">입점신청 제출하기</button>
                </form>
            </div>
        </div>
    </div>

    <!-- 성공 모달 -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">✅</div>
            <h2>입점신청이 완료되었습니다!</h2>
            <p>
                소중한 신청 감사드립니다.<br>
                영업일 기준 1~2일 내에<br>
                담당자가 연락드리겠습니다.
            </p>
            <button class="close-btn" onclick="closeSuccessModal()">확인</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        // Firebase 설정
        const firebaseConfig = {
            apiKey: "AIzaSyAQf_Cu9wMji5QsMBQns5eg6nOD_vmrZMs",
            authDomain: "moyeora-deal-manager.firebaseapp.com",
            projectId: "moyeora-deal-manager",
            storageBucket: "moyeora-deal-manager.firebasestorage.app",
            messagingSenderId: "527148187832",
            appId: "1:527148187832:web:dc35b0413a7157db34744d",
            measurementId: "G-XEGLCEG93R"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // 슬라이드 복제 (무한 루프용)
        document.addEventListener('DOMContentLoaded', function() {
            const track = document.getElementById('sliderTrack');
            const items = track.innerHTML;
            track.innerHTML = items + items;
        });

        // 전화번호 자동 포맷팅
        document.getElementById('phone').addEventListener('input', function(e) {
            let num = e.target.value.replace(/[^0-9]/g, '');
            let result = '';
            if (num.length < 4) result = num;
            else if (num.length < 8) result = num.substr(0,3) + '-' + num.substr(3);
            else result = num.substr(0,3) + '-' + num.substr(3,4) + '-' + num.substr(7);
            e.target.value = result;
        });

        // 폼 제출
        document.getElementById('sellerApplicationForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            // 카테고리 선택 확인
            const selectedCategories = Array.from(document.querySelectorAll('input[name="category"]:checked'))
                .map(cb => cb.value);

            if (selectedCategories.length === 0) {
                alert('최소 1개 이상의 콘텐츠 카테고리를 선택해주세요.');
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = '제출 중...';

            try {
                // 폼 데이터 수집
                const formData = {
                    // 기본 정보
                    name: document.getElementById('name').value.trim(),
                    phone: document.getElementById('phone').value.trim(),
                    address: document.getElementById('address').value.trim(),
                    businessType: document.getElementById('businessType').value,

                    // SNS 정보
                    snsType: document.getElementById('snsType').value,
                    snsAccount: document.getElementById('snsAccount').value.trim(),
                    instagram: document.getElementById('snsType').value === '인스타그램' ? document.getElementById('snsAccount').value.trim() : '',
                    otherSns: document.getElementById('otherSns').value.trim(),

                    // 활동 정보
                    categories: selectedCategories,
                    experience: document.getElementById('experience').value,
                    introduction: document.getElementById('introduction').value.trim(),

                    // 메타 정보
                    status: 'pending',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    source: 'web_application_v3'
                };

                // Firebase에 저장
                await db.collection('sellerApplications').add(formData);

                // Google Sheets에도 전송 (기존 시스템 호환)
                try {
                    await fetch('https://script.google.com/macros/s/AKfycbzUDI9Dj19HfSqxyjy4eT-su7Kdwli3hGymcw390FQatzZLjp2JNKT0EVYTGhs4FlmR/exec', {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            type: '셀러_입점신청',
                            name: formData.name,
                            contact: formData.phone,
                            sns: formData.snsType + ': ' + formData.snsAccount
                        })
                    });
                } catch (err) {
                    console.log('Google Sheets 전송 실패 (무시):', err);
                }

                // 성공 모달 표시
                document.getElementById('successModal').classList.add('active');

                // 폼 초기화
                document.getElementById('sellerApplicationForm').reset();

            } catch (error) {
                console.error('신청 제출 실패:', error);
                alert('신청 제출 중 오류가 발생했습니다. 다시 시도해주세요.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = '입점신청 제출하기';
            }
        });

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('active');
            window.location.href = '/seller/';
        }

        // 모달 외부 클릭 시 닫기
        document.getElementById('successModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSuccessModal();
            }
        });
    </script>
</body>
</html>
