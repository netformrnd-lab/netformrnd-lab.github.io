<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì…€ëŸ¬ ì˜¨ë³´ë”© ê°€ì´ë“œ | ëª¨ì—¬ë¼ë”œ</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #ff6b35;
            --primary-dark: #e55a2b;
            --primary-light: #ff8c5a;
            --primary-bg: #fff8f5;
            --secondary: #ff9500;
            --success: #22c55e;
            --white: #ffffff;
            --gray-50: #fafafa;
            --gray-100: #f5f5f5;
            --gray-200: #e5e5e5;
            --gray-300: #d4d4d4;
            --gray-400: #a3a3a3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
        }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px 16px 32px;
            text-align: center;
        }
        .logo { margin-bottom: 16px; }
        .logo img {
            height: 32px;
            filter: brightness(0) invert(1);
        }
        .header-title {
            font-size: 22px;
            font-weight: 800;
            color: var(--white);
            margin-bottom: 4px;
        }
        .header-desc {
            font-size: 13px;
            color: rgba(255,255,255,0.9);
        }
        .seller-info {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            color: white;
            margin-top: 10px;
        }

        /* Container */
        .container {
            max-width: 440px;
            margin: 0 auto;
            padding: 0 16px 100px;
            margin-top: -16px;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .card-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-bg);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        .card-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--gray-800);
        }
        .card-subtitle {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 2px;
        }

        /* Form */
        .form-section {
            margin-bottom: 20px;
        }
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 8px;
        }
        .form-label .required {
            color: #dc2626;
            margin-left: 2px;
        }
        .form-label .optional {
            font-size: 11px;
            font-weight: 500;
            color: var(--gray-400);
            margin-left: 4px;
        }
        .form-desc {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 10px;
        }

        /* Link Button */
        .link-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 16px;
            background: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }
        .link-btn:hover { background: var(--primary-dark); }

        /* Upload Area */
        .upload-area {
            background: var(--gray-50);
            border: 2px dashed var(--gray-300);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .upload-area:hover {
            border-color: var(--primary);
            background: var(--primary-bg);
        }
        .upload-area.has-file {
            border-color: var(--success);
            border-style: solid;
            background: #f0fdf4;
        }
        .upload-icon { font-size: 32px; margin-bottom: 8px; }
        .upload-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-700);
        }
        .upload-desc {
            font-size: 11px;
            color: var(--gray-400);
            margin-top: 4px;
        }
        .upload-input { display: none; }
        .upload-preview {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid var(--gray-200);
        }
        .upload-preview img {
            width: 44px;
            height: 44px;
            object-fit: cover;
            border-radius: 6px;
        }
        .upload-preview-info { flex: 1; }
        .upload-preview-name {
            font-size: 12px;
            font-weight: 500;
            color: var(--gray-700);
            word-break: break-all;
        }
        .upload-preview-size {
            font-size: 11px;
            color: var(--gray-400);
        }
        .upload-preview-remove {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-100);
            border-radius: 50%;
            color: var(--gray-500);
            font-size: 14px;
            cursor: pointer;
        }
        .upload-preview-remove:hover {
            background: #fef2f2;
            color: #dc2626;
        }

        /* Bank Section */
        .bank-section {
            background: var(--gray-50);
            border-radius: 10px;
            padding: 14px;
        }
        .bank-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 14px;
        }
        .bank-tab {
            flex: 1;
            padding: 10px;
            border: 1.5px solid var(--gray-200);
            border-radius: 8px;
            background: white;
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-500);
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        .bank-tab.active {
            border-color: var(--primary);
            background: var(--primary-bg);
            color: var(--primary);
        }
        .bank-tab-icon {
            display: block;
            font-size: 16px;
            margin-bottom: 4px;
        }
        .bank-content { display: none; }
        .bank-content.active { display: block; }

        /* Input */
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin-bottom: 10px;
        }
        .input-group:last-child { margin-bottom: 0; }
        .input-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
        }
        .input-field {
            padding: 10px 12px;
            border: 1.5px solid var(--gray-200);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            background: white;
            transition: all 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }
        .input-field::placeholder { color: var(--gray-400); }
        .bank-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23a3a3a3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 18px;
            padding-right: 36px;
        }

        /* Benefits */
        .benefits-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .benefit-item {
            background: var(--primary-bg);
            border-radius: 12px;
            padding: 14px 12px;
            text-align: center;
        }
        .benefit-icon { font-size: 28px; margin-bottom: 8px; }
        .benefit-title {
            font-size: 13px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 4px;
        }
        .benefit-desc {
            font-size: 11px;
            color: var(--gray-500);
            line-height: 1.4;
        }
        .benefit-highlight {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            grid-column: span 2;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 14px;
            text-align: left;
        }
        .benefit-highlight .benefit-icon { font-size: 36px; margin-bottom: 0; }
        .benefit-highlight .benefit-title { color: white; font-size: 14px; }
        .benefit-highlight .benefit-desc { color: rgba(255,255,255,0.9); font-size: 12px; }

        /* Submit Button (Fixed) */
        .submit-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 16px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }
        .submit-container .inner {
            max-width: 440px;
            margin: 0 auto;
        }
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .submit-btn:hover { transform: scale(1.02); }
        .submit-btn:disabled {
            background: var(--gray-300);
            cursor: not-allowed;
            transform: none;
        }

        /* Status Badge */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
        }
        .status-badge.pending {
            background: #fef3c7;
            color: #92400e;
        }
        .status-badge.approved {
            background: #dcfce7;
            color: #166534;
        }

        /* FAQ */
        .faq-list { display: flex; flex-direction: column; gap: 8px; }
        .faq-item {
            background: var(--gray-50);
            border-radius: 10px;
            overflow: hidden;
        }
        .faq-question {
            padding: 14px;
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-700);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-arrow {
            font-size: 10px;
            color: var(--gray-400);
            transition: transform 0.2s;
        }
        .faq-item.open .faq-arrow { transform: rotate(180deg); }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
        }
        .faq-item.open .faq-answer { max-height: 300px; }
        .faq-answer-content {
            font-size: 12px;
            color: var(--gray-600);
            line-height: 1.6;
            padding: 0 14px 14px;
        }

        /* Contact */
        .contact-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .contact-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 12px;
        }
        .contact-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: #fbbf24;
            color: #78350f;
            padding: 12px 24px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 700;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px 16px;
            color: var(--gray-400);
            font-size: 11px;
        }
        .footer a { color: var(--gray-500); text-decoration: none; }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--gray-800);
            color: white;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--gray-200);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading-text {
            margin-top: 12px;
            font-size: 14px;
            color: var(--gray-600);
        }

        /* Success Modal */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            padding: 20px;
        }
        .success-modal.show { display: flex; }
        .success-content {
            background: white;
            border-radius: 20px;
            padding: 32px 24px;
            text-align: center;
            max-width: 320px;
            width: 100%;
        }
        .success-icon { font-size: 60px; margin-bottom: 16px; }
        .success-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 8px;
        }
        .success-desc {
            font-size: 14px;
            color: var(--gray-500);
            margin-bottom: 24px;
            line-height: 1.5;
        }
        .success-btn {
            width: 100%;
            padding: 14px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Loading -->
    <div class="loading-overlay" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <div class="loading-text">ì œì¶œ ì¤‘...</div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">ğŸ‰</div>
            <div class="success-title">ì œì¶œ ì™„ë£Œ!</div>
            <div class="success-desc">ì…ì  ì„œë¥˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.<br>ê²€í†  í›„ 1~3 ì˜ì—…ì¼ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>
            <button class="success-btn" onclick="closeSuccessModal()">í™•ì¸</button>
        </div>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="logo">
            <img src="https://ecimg.cafe24img.com/pg2246b37345376080/moyeora02/web/upload/category/editor/2025/12/03/00453e1590e94023319a5663cafc40b7.png" alt="ëª¨ì—¬ë¼ë”œ">
        </div>
        <div class="header-title">ì…€ëŸ¬ ì…ì  ì„œë¥˜ ì œì¶œ</div>
        <div class="header-desc">ì•„ë˜ ì„œë¥˜ë¥¼ ì‘ì„±í•˜ì—¬ ì œì¶œí•´ì£¼ì„¸ìš”</div>
        <div class="seller-info" id="sellerInfo" style="display:none;">
            <span id="sellerName"></span>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!
        </div>
    </div>

    <div class="container">
        <!-- ì´ë¯¸ ì œì¶œí•œ ê²½ìš° í‘œì‹œ -->
        <div class="card" id="submittedStatus" style="display:none;">
            <div style="text-align: center; padding: 20px 0;">
                <div class="status-badge approved" id="statusBadge" style="margin-bottom: 16px;">
                    â³ ê²€í†  ì¤‘
                </div>
                <div style="font-size: 15px; font-weight: 600; color: var(--gray-700); margin-bottom: 8px;">ì„œë¥˜ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤</div>
                <div style="font-size: 13px; color: var(--gray-500);">ë‹´ë‹¹ì ê²€í†  í›„ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>
            </div>
        </div>

        <!-- ì…€ëŸ¬ í˜œíƒ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">ğŸ</div>
                <div>
                    <div class="card-title">ì…€ëŸ¬ í˜œíƒ</div>
                    <div class="card-subtitle">ëª¨ì—¬ë¼ë”œ íŒŒíŠ¸ë„ˆë§Œì˜ íŠ¹ë³„í•œ í˜œíƒ</div>
                </div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ’µ</div>
                    <div class="benefit-title">ìˆ˜ìµ ë³´ì¥</div>
                    <div class="benefit-desc">ëª…í™•í•œ ìˆ˜ìˆ˜ë£Œ<br>3~7ì¼ ë‚´ ë¹ ë¥¸ ì…ê¸ˆ</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ¨</div>
                    <div class="benefit-title">ì œì‘ ì§€ì›</div>
                    <div class="benefit-desc">ì¸ë„¤ì¼Â·í”¼ë“œÂ·ìƒì„¸í˜ì´ì§€<br>ì œì‘ ì„œí¬íŠ¸</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ“£</div>
                    <div class="benefit-title">ë§ˆì¼€íŒ… ë¶€ìŠ¤íŒ…</div>
                    <div class="benefit-desc">ì´ë²¤íŠ¸ ê¸°íšÂ·í”¼ë“œ ë””ìì¸<br>ë¶€ìŠ¤íŒ… ë¬´ë£Œ ì§€ì›</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ“ˆ</div>
                    <div class="benefit-title">ì„±ì¥ ì‹œìŠ¤í…œ</div>
                    <div class="benefit-desc">ë“±ê¸‰ë³„ í˜œíƒ<br>íŒë§¤ëŸ‰ ê¸°ë°˜ ìˆ˜ìˆ˜ë£Œ ì¸ìƒ</div>
                </div>
                <div class="benefit-item benefit-highlight">
                    <div class="benefit-icon">ğŸš€</div>
                    <div>
                        <div class="benefit-title">ì…ì  ë¹„ìš© ë¬´ë£Œ!</div>
                        <div class="benefit-desc">ì´ˆê¸° ë¹„ìš© ì—†ì´ ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì…ì ì‹ ì²­ + ì„œë¥˜ ì œì¶œ í†µí•© í¼ -->
        <div class="card" id="documentForm">
            <div class="card-header">
                <div class="card-icon">ğŸ“‹</div>
                <div>
                    <div class="card-title">ì…ì ì‹ ì²­ ë° ì„œë¥˜ ì œì¶œ</div>
                    <div class="card-subtitle">ì •ë³´ ì…ë ¥ í›„ ì„œë¥˜ë¥¼ ì œì¶œí•´ì£¼ì„¸ìš”</div>
                </div>
            </div>

            <!-- 1. ê¸°ë³¸ ì •ë³´ -->
            <div class="form-section">
                <label class="form-label">1. ê¸°ë³¸ ì •ë³´ <span class="required">*</span></label>
                <div class="form-desc">ì…€ëŸ¬ë‹˜ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>

                <div class="input-group">
                    <label class="input-label">ì„±í•¨ *</label>
                    <input type="text" class="input-field" id="seller-name-input" placeholder="í™ê¸¸ë™">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                    <div class="input-group">
                        <label class="input-label">ì—°ë½ì²˜ *</label>
                        <input type="tel" class="input-field" id="seller-phone-input" placeholder="010-0000-0000" maxlength="13">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì´ë©”ì¼ *</label>
                        <input type="email" class="input-field" id="seller-email-input" placeholder="example@email.com">
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label">ì‚¬ì—…ì ìœ í˜• *</label>
                    <select class="input-field" id="seller-biz-type">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ê°œì¸">ê°œì¸ (ì‚¬ì—…ì ì—†ìŒ)</option>
                        <option value="ê°œì¸ì‚¬ì—…ì">ê°œì¸ì‚¬ì—…ì</option>
                        <option value="ë²•ì¸ì‚¬ì—…ì">ë²•ì¸ì‚¬ì—…ì</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ (ì„ íƒ)</label>
                    <input type="text" class="input-field" id="seller-biz-number" placeholder="000-00-00000">
                </div>
            </div>

            <!-- 2. SNS ì •ë³´ -->
            <div class="form-section">
                <label class="form-label">2. SNS ì •ë³´ <span class="required">*</span></label>
                <div class="form-desc">í™œë™ ì¤‘ì¸ SNS ì±„ë„ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>

                <div class="input-group">
                    <label class="input-label">ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì • *</label>
                    <input type="text" class="input-field" id="seller-instagram" placeholder="@your_account">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                    <div class="input-group">
                        <label class="input-label">íŒ”ë¡œì›Œ ìˆ˜ *</label>
                        <select class="input-field" id="seller-followers">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="1,000ëª… ë¯¸ë§Œ">1,000ëª… ë¯¸ë§Œ</option>
                            <option value="1,000~5,000ëª…">1,000~5,000ëª…</option>
                            <option value="5,000~10,000ëª…">5,000~10,000ëª…</option>
                            <option value="10,000~30,000ëª…">10,000~30,000ëª…</option>
                            <option value="30,000ëª… ì´ìƒ">30,000ëª… ì´ìƒ</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">í‰ê·  ì¡°íšŒìˆ˜</label>
                        <input type="text" class="input-field" id="seller-avg-views" placeholder="ì˜ˆ: 5,000">
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label">ê¸°íƒ€ SNS ì±„ë„ (ì„ íƒ)</label>
                    <input type="text" class="input-field" id="seller-other-sns" placeholder="ë¸”ë¡œê·¸, ìœ íŠœë¸Œ, í‹±í†¡ ë“±">
                </div>
            </div>

            <!-- 3. í™œë™ ì •ë³´ -->
            <div class="form-section">
                <label class="form-label">3. í™œë™ ì •ë³´</label>
                <div class="form-desc">ì£¼ìš” ì½˜í…ì¸  ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</div>

                <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px;">
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ìœ¡ì•„" style="accent-color: var(--primary);"> ìœ¡ì•„
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ë¦¬ë¹™" style="accent-color: var(--primary);"> ë¦¬ë¹™
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ì‹í’ˆ" style="accent-color: var(--primary);"> ì‹í’ˆ
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ë·°í‹°" style="accent-color: var(--primary);"> ë·°í‹°
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="íŒ¨ì…˜" style="accent-color: var(--primary);"> íŒ¨ì…˜
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ê±´ê°•" style="accent-color: var(--primary);"> ê±´ê°•
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ì• ê²¬" style="accent-color: var(--primary);"> ì• ê²¬
                    </label>
                    <label style="display: flex; align-items: center; gap: 6px; padding: 8px 12px; background: var(--gray-100); border-radius: 20px; cursor: pointer; font-size: 13px;">
                        <input type="checkbox" name="category" value="ê¸°íƒ€" style="accent-color: var(--primary);"> ê¸°íƒ€
                    </label>
                </div>

                <div class="input-group">
                    <label class="input-label">ê³µêµ¬ ì§„í–‰ ê²½í—˜</label>
                    <select class="input-field" id="seller-experience">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì—†ìŒ">ì—†ìŒ (ì²˜ìŒì…ë‹ˆë‹¤)</option>
                        <option value="1~3íšŒ">1~3íšŒ</option>
                        <option value="4~10íšŒ">4~10íšŒ</option>
                        <option value="10íšŒ ì´ìƒ">10íšŒ ì´ìƒ</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">ìê¸°ì†Œê°œ / ë©”ëª¨ (ì„ íƒ)</label>
                    <textarea class="input-field" id="seller-intro" rows="3" placeholder="ê°„ë‹¨í•œ ìê¸°ì†Œê°œë‚˜ ë¬¸ì˜ì‚¬í•­ì„ ì‘ì„±í•´ì£¼ì„¸ìš”" style="resize: vertical;"></textarea>
                </div>
            </div>

            <div style="height: 1px; background: var(--gray-200); margin: 24px 0;"></div>

            <!-- 4. ì‹ ë¶„ì¦ -->
            <div class="form-section">
                <label class="form-label">4. ì‹ ë¶„ì¦ ì‚¬ë³¸ <span class="required">*</span></label>
                <div class="form-desc">ë³¸ì¸ í™•ì¸ì„ ìœ„í•œ ì‹ ë¶„ì¦ ì‚¬ë³¸ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”.</div>
                <div class="upload-area" onclick="document.getElementById('file-id').click()">
                    <div class="upload-icon">ğŸªª</div>
                    <div class="upload-title">ì‹ ë¶„ì¦ ì‚¬ë³¸ ì²¨ë¶€</div>
                    <div class="upload-desc">ì´ë¯¸ì§€ ë˜ëŠ” PDF ì„ íƒ</div>
                    <input type="file" id="file-id" class="upload-input" accept="image/*,.pdf" onchange="handleFileUpload(this, 'preview-id')">
                </div>
                <div id="preview-id"></div>
            </div>

            <!-- 5. ê³„ì¢Œì •ë³´ -->
            <div class="form-section">
                <label class="form-label">5. ê³„ì¢Œì •ë³´ (ì •ì‚°ìš©) <span class="required">*</span></label>
                <div class="form-desc">ì •ì‚°ë°›ìœ¼ì‹¤ ê³„ì¢Œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                <div class="bank-section">
                    <div class="bank-tabs">
                        <div class="bank-tab active" onclick="switchBankTab('input')">
                            <span class="bank-tab-icon">âœï¸</span>
                            ì§ì ‘ ì…ë ¥
                        </div>
                        <div class="bank-tab" onclick="switchBankTab('upload')">
                            <span class="bank-tab-icon">ğŸ“·</span>
                            ì‚¬ì§„ ì²¨ë¶€
                        </div>
                    </div>

                    <div id="bank-input" class="bank-content active">
                        <div class="input-group">
                            <label class="input-label">ì€í–‰ëª…</label>
                            <select class="input-field bank-select" id="bank-name">
                                <option value="">ì€í–‰ ì„ íƒ</option>
                                <option value="êµ­ë¯¼ì€í–‰">êµ­ë¯¼ì€í–‰</option>
                                <option value="ì‹ í•œì€í–‰">ì‹ í•œì€í–‰</option>
                                <option value="ìš°ë¦¬ì€í–‰">ìš°ë¦¬ì€í–‰</option>
                                <option value="í•˜ë‚˜ì€í–‰">í•˜ë‚˜ì€í–‰</option>
                                <option value="ë†í˜‘ì€í–‰">ë†í˜‘ì€í–‰</option>
                                <option value="ê¸°ì—…ì€í–‰">ê¸°ì—…ì€í–‰</option>
                                <option value="ì¹´ì¹´ì˜¤ë±…í¬">ì¹´ì¹´ì˜¤ë±…í¬</option>
                                <option value="í† ìŠ¤ë±…í¬">í† ìŠ¤ë±…í¬</option>
                                <option value="ì¼€ì´ë±…í¬">ì¼€ì´ë±…í¬</option>
                                <option value="ìƒˆë§ˆì„ê¸ˆê³ ">ìƒˆë§ˆì„ê¸ˆê³ </option>
                                <option value="ì‹ í˜‘">ì‹ í˜‘</option>
                                <option value="ìš°ì²´êµ­">ìš°ì²´êµ­</option>
                                <option value="SCì œì¼ì€í–‰">SCì œì¼ì€í–‰</option>
                                <option value="ê²½ë‚¨ì€í–‰">ê²½ë‚¨ì€í–‰</option>
                                <option value="ê´‘ì£¼ì€í–‰">ê´‘ì£¼ì€í–‰</option>
                                <option value="ëŒ€êµ¬ì€í–‰">ëŒ€êµ¬ì€í–‰</option>
                                <option value="ë¶€ì‚°ì€í–‰">ë¶€ì‚°ì€í–‰</option>
                                <option value="ì „ë¶ì€í–‰">ì „ë¶ì€í–‰</option>
                                <option value="ì œì£¼ì€í–‰">ì œì£¼ì€í–‰</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="input-label">ì˜ˆê¸ˆì£¼ (ì…ê¸ˆë°›ëŠ” ì„±í•¨)</label>
                            <input type="text" class="input-field" id="account-holder" placeholder="ì˜ˆê¸ˆì£¼ëª… ì…ë ¥">
                        </div>
                        <div class="input-group">
                            <label class="input-label">ê³„ì¢Œë²ˆí˜¸</label>
                            <input type="text" class="input-field" id="account-number" placeholder="- ì—†ì´ ìˆ«ìë§Œ ì…ë ¥" inputmode="numeric">
                        </div>
                    </div>

                    <div id="bank-upload" class="bank-content">
                        <div class="upload-area" onclick="document.getElementById('file-bank').click()">
                            <div class="upload-icon">ğŸ¦</div>
                            <div class="upload-title">í†µì¥ì‚¬ë³¸ ì²¨ë¶€</div>
                            <div class="upload-desc">ì´ë¯¸ì§€ ë˜ëŠ” PDF ì„ íƒ</div>
                            <input type="file" id="file-bank" class="upload-input" accept="image/*,.pdf" onchange="handleFileUpload(this, 'preview-bank')">
                        </div>
                        <div id="preview-bank"></div>
                    </div>
                </div>
            </div>

            <!-- 6. ì‚¬ì—…ìë“±ë¡ì¦ -->
            <div class="form-section">
                <label class="form-label">6. ì‚¬ì—…ìë“±ë¡ì¦ <span class="optional">(ì„ íƒ)</span></label>
                <div class="form-desc">ì‚¬ì—…ìì¸ ê²½ìš°ì—ë§Œ ì œì¶œ. ê°œì¸ ì…€ëŸ¬ëŠ” ìƒëµ ê°€ëŠ¥.</div>
                <div class="upload-area" onclick="document.getElementById('file-biz').click()">
                    <div class="upload-icon">ğŸ¢</div>
                    <div class="upload-title">ì‚¬ì—…ìë“±ë¡ì¦ ì²¨ë¶€</div>
                    <div class="upload-desc">ì´ë¯¸ì§€ ë˜ëŠ” PDF ì„ íƒ</div>
                    <input type="file" id="file-biz" class="upload-input" accept="image/*,.pdf" onchange="handleFileUpload(this, 'preview-biz')">
                </div>
                <div id="preview-biz"></div>
            </div>
        </div>

        <!-- FAQ -->
        <div class="card">
            <div class="card-header">
                <div class="card-icon">â“</div>
                <div>
                    <div class="card-title">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</div>
                </div>
            </div>
            <div class="faq-list">
                <div class="faq-item" onclick="this.classList.toggle('open')">
                    <div class="faq-question">
                        <span>ì •ì‚°ì€ ì–¸ì œ ë˜ë‚˜ìš”?</span>
                        <span class="faq-arrow">â–¼</span>
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <strong>ê³µêµ¬ ë§ˆê° 1ì¼ í›„ ê¸°ì¤€</strong>, 3~7ì¼ ì´ë‚´ ì…ê¸ˆ (ê³µíœ´ì¼ ì œì™¸)<br><br>
                            <span style="color:#dc2626;">â€» ë¹„ì‚¬ì—…ì:</span> ì‚¬ì—…ì†Œë“ì„¸(3.3%) + ì§€ë°©ì†Œë“ì„¸ ì œì™¸ í›„ ì •ì‚°
                        </div>
                    </div>
                </div>
                <div class="faq-item" onclick="this.classList.toggle('open')">
                    <div class="faq-question">
                        <span>ìƒ˜í”Œ ì œê³µì´ ë˜ë‚˜ìš”?</span>
                        <span class="faq-arrow">â–¼</span>
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            ë˜ë„ë¡ <strong>ë¬´ìƒ ì§€ì›</strong>í•´ë“œë¦½ë‹ˆë‹¤.<br>
                            ì œí’ˆì— ë”°ë¼ íšŒìˆ˜ ë˜ëŠ” ë¹„ìš© ë°œìƒ ê°€ëŠ¥.
                        </div>
                    </div>
                </div>
                <div class="faq-item" onclick="this.classList.toggle('open')">
                    <div class="faq-question">
                        <span>ì—¬ëŸ¬ ì±„ë„ë¡œ í™œë™í•´ë„ ë˜ë‚˜ìš”?</span>
                        <span class="faq-arrow">â–¼</span>
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            ë„¤! ì¸ìŠ¤íƒ€ê·¸ë¨, ìœ íŠœë¸Œ, ë¸”ë¡œê·¸ ë“± <strong>ì—¬ëŸ¬ ì±„ë„ ììœ ë¡­ê²Œ</strong> í™œë™ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë¬¸ì˜ -->
        <div class="card">
            <div class="contact-box">
                <div class="contact-title">ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹ ê°€ìš”?</div>
                <a href="http://pf.kakao.com/_xdZVkn" class="contact-link" target="_blank">
                    ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ë¬¸ì˜í•˜ê¸°
                </a>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2024 ëª¨ì—¬ë¼ë”œ. All rights reserved.</p>
            <p><a href="https://moyeoradeal.com">moyeoradeal.com</a></p>
        </div>
    </div>

    <!-- Submit Button -->
    <div class="submit-container" id="submitContainer">
        <div class="inner">
            <button class="submit-btn" id="submitBtn" onclick="submitDocuments()">
                ì„œë¥˜ ì œì¶œí•˜ê¸°
            </button>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyCGCjZ2j9yIkDJvu0MRjJJTko2lhLZpRZI",
            authDomain: "moyeoradeal.firebaseapp.com",
            projectId: "moyeoradeal",
            storageBucket: "moyeoradeal.appspot.com",
            messagingSenderId: "848aborede860087",
            appId: "1:848860087540:web:36d9ba3521e87bf4b5cd14"
        };

        let db, storage;
        let sellerId = null;
        let sellerData = null;
        let uploadedFiles = {};
        let bankInputMode = 'input';

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();
                storage = firebase.storage();
            } catch(e) {
                console.log('Firebase already initialized');
                db = firebase.firestore();
                storage = firebase.storage();
            }

            // URLì—ì„œ ì…€ëŸ¬ ID ê°€ì ¸ì˜¤ê¸°
            const params = new URLSearchParams(window.location.search);
            sellerId = params.get('id') || params.get('seller');

            if (sellerId) {
                await loadSellerData();
            }

            // ê³„ì¢Œë²ˆí˜¸ ìˆ«ìë§Œ ì…ë ¥
            document.getElementById('account-number').addEventListener('input', function() {
                this.value = this.value.replace(/[^0-9]/g, '');
            });

            // ì „í™”ë²ˆí˜¸ ìë™ í¬ë§·íŒ…
            document.getElementById('seller-phone-input').addEventListener('input', function(e) {
                let num = e.target.value.replace(/[^0-9]/g, '');
                let result = '';
                if (num.length < 4) result = num;
                else if (num.length < 8) result = num.substr(0,3) + '-' + num.substr(3);
                else result = num.substr(0,3) + '-' + num.substr(3,4) + '-' + num.substr(7);
                e.target.value = result;
            });
        });

        // ì…€ëŸ¬ ë°ì´í„° ë¡œë“œ
        async function loadSellerData() {
            try {
                const doc = await db.collection('sellers').doc(sellerId).get();
                if (doc.exists) {
                    sellerData = doc.data();
                    document.getElementById('sellerInfo').style.display = 'inline-block';
                    document.getElementById('sellerName').textContent = sellerData.name || 'ì…€ëŸ¬';

                    // ì´ë¯¸ ì œì¶œí•œ ê²½ìš°
                    if (sellerData.documentsSubmitted) {
                        showSubmittedStatus();
                    }
                }
            } catch(e) {
                console.log('ì…€ëŸ¬ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', e);
            }
        }

        // ì œì¶œ ì™„ë£Œ ìƒíƒœ í‘œì‹œ
        function showSubmittedStatus() {
            document.getElementById('submittedStatus').style.display = 'block';
            document.getElementById('documentForm').style.display = 'none';
            document.getElementById('submitContainer').style.display = 'none';

            const badge = document.getElementById('statusBadge');
            if (sellerData.documentsApproved) {
                badge.className = 'status-badge approved';
                badge.innerHTML = 'âœ… ìŠ¹ì¸ ì™„ë£Œ';
            } else {
                badge.className = 'status-badge pending';
                badge.innerHTML = 'â³ ê²€í†  ì¤‘';
            }
        }

        // ê³„ì¢Œ íƒ­ ì „í™˜
        function switchBankTab(tab) {
            bankInputMode = tab;
            document.querySelectorAll('.bank-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.bank-content').forEach(c => c.classList.remove('active'));
            if (tab === 'input') {
                document.querySelectorAll('.bank-tab')[0].classList.add('active');
                document.getElementById('bank-input').classList.add('active');
            } else {
                document.querySelectorAll('.bank-tab')[1].classList.add('active');
                document.getElementById('bank-upload').classList.add('active');
            }
        }

        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        function handleFileUpload(input, previewId) {
            const file = input.files[0];
            const previewContainer = document.getElementById(previewId);
            const uploadArea = input.parentElement;

            if (file) {
                // íŒŒì¼ ì €ì¥
                uploadedFiles[input.id] = file;
                uploadArea.classList.add('has-file');
                const fileSize = formatFileSize(file.size);

                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        previewContainer.innerHTML = `
                            <div class="upload-preview">
                                <img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸°">
                                <div class="upload-preview-info">
                                    <div class="upload-preview-name">${file.name}</div>
                                    <div class="upload-preview-size">${fileSize}</div>
                                </div>
                                <span class="upload-preview-remove" onclick="removeFile('${input.id}', '${previewId}')">Ã—</span>
                            </div>
                        `;
                    };
                    reader.readAsDataURL(file);
                } else {
                    previewContainer.innerHTML = `
                        <div class="upload-preview">
                            <div style="width:44px;height:44px;background:var(--gray-100);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:20px;">ğŸ“„</div>
                            <div class="upload-preview-info">
                                <div class="upload-preview-name">${file.name}</div>
                                <div class="upload-preview-size">${fileSize}</div>
                            </div>
                            <span class="upload-preview-remove" onclick="removeFile('${input.id}', '${previewId}')">Ã—</span>
                        </div>
                    `;
                }
                showToast('âœ“ íŒŒì¼ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        function removeFile(inputId, previewId) {
            event.stopPropagation();
            delete uploadedFiles[inputId];
            document.getElementById(inputId).value = '';
            document.getElementById(previewId).innerHTML = '';
            document.getElementById(inputId).parentElement.classList.remove('has-file');
            showToast('íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // ìœ íš¨ì„± ê²€ì‚¬
        function validateForm() {
            const errors = [];

            // ê¸°ë³¸ ì •ë³´ ê²€ì¦
            if (!document.getElementById('seller-name-input').value.trim()) {
                errors.push('ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
            if (!document.getElementById('seller-phone-input').value.trim()) {
                errors.push('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
            if (!document.getElementById('seller-email-input').value.trim()) {
                errors.push('ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
            if (!document.getElementById('seller-biz-type').value) {
                errors.push('ì‚¬ì—…ì ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”');
            }

            // SNS ì •ë³´ ê²€ì¦
            if (!document.getElementById('seller-instagram').value.trim()) {
                errors.push('ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì •ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
            if (!document.getElementById('seller-followers').value) {
                errors.push('íŒ”ë¡œì›Œ ìˆ˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”');
            }

            // ì‹ ë¶„ì¦
            if (!uploadedFiles['file-id']) {
                errors.push('ì‹ ë¶„ì¦ ì‚¬ë³¸ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”');
            }

            // ê³„ì¢Œì •ë³´
            if (bankInputMode === 'input') {
                const bankName = document.getElementById('bank-name').value;
                const accountHolder = document.getElementById('account-holder').value;
                const accountNumber = document.getElementById('account-number').value;
                if (!bankName || !accountHolder || !accountNumber) {
                    errors.push('ê³„ì¢Œì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                }
            } else {
                if (!uploadedFiles['file-bank']) {
                    errors.push('í†µì¥ì‚¬ë³¸ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”');
                }
            }

            return errors;
        }

        // íŒŒì¼ ì—…ë¡œë“œ to Firebase Storage
        async function uploadFileToStorage(file, path) {
            const ref = storage.ref().child(path);
            await ref.put(file);
            return await ref.getDownloadURL();
        }

        // ì„œë¥˜ ì œì¶œ
        async function submitDocuments() {
            const errors = validateForm();
            if (errors.length > 0) {
                showToast(errors[0]);
                return;
            }

            document.getElementById('loading').style.display = 'flex';
            document.getElementById('submitBtn').disabled = true;

            try {
                const timestamp = Date.now();

                // ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘
                const selectedCategories = Array.from(document.querySelectorAll('input[name="category"]:checked'))
                    .map(cb => cb.value);

                // ì…ì ì‹ ì²­ ì •ë³´
                const applicationData = {
                    name: document.getElementById('seller-name-input').value.trim(),
                    phone: document.getElementById('seller-phone-input').value.trim(),
                    email: document.getElementById('seller-email-input').value.trim(),
                    businessType: document.getElementById('seller-biz-type').value,
                    businessNumber: document.getElementById('seller-biz-number').value.trim(),
                    instagram: document.getElementById('seller-instagram').value.trim(),
                    followers: document.getElementById('seller-followers').value,
                    avgViews: document.getElementById('seller-avg-views').value.trim(),
                    otherSns: document.getElementById('seller-other-sns').value.trim(),
                    categories: selectedCategories,
                    experience: document.getElementById('seller-experience').value,
                    introduction: document.getElementById('seller-intro').value.trim(),
                    submittedAt: new Date().toISOString()
                };

                // ì„œë¥˜ ì •ë³´
                const docData = {
                    submittedAt: new Date().toISOString(),
                    applicationDone: true
                };

                // ì‹ ë¶„ì¦ ì—…ë¡œë“œ
                if (uploadedFiles['file-id']) {
                    const idUrl = await uploadFileToStorage(
                        uploadedFiles['file-id'],
                        `seller-documents/${sellerId || 'anonymous'}/id-card-${timestamp}`
                    );
                    docData.idCardUrl = idUrl;
                    docData.idCardFileName = uploadedFiles['file-id'].name;
                }

                // ê³„ì¢Œì •ë³´
                if (bankInputMode === 'input') {
                    docData.bankInfo = {
                        type: 'text',
                        bankName: document.getElementById('bank-name').value,
                        accountHolder: document.getElementById('account-holder').value,
                        accountNumber: document.getElementById('account-number').value
                    };
                } else if (uploadedFiles['file-bank']) {
                    const bankUrl = await uploadFileToStorage(
                        uploadedFiles['file-bank'],
                        `seller-documents/${sellerId || 'anonymous'}/bank-${timestamp}`
                    );
                    docData.bankInfo = {
                        type: 'image',
                        url: bankUrl,
                        fileName: uploadedFiles['file-bank'].name
                    };
                }

                // ì‚¬ì—…ìë“±ë¡ì¦ (ì„ íƒ)
                if (uploadedFiles['file-biz']) {
                    const bizUrl = await uploadFileToStorage(
                        uploadedFiles['file-biz'],
                        `seller-documents/${sellerId || 'anonymous'}/biz-${timestamp}`
                    );
                    docData.businessLicenseUrl = bizUrl;
                    docData.businessLicenseFileName = uploadedFiles['file-biz'].name;
                }

                // Firestoreì— ì €ì¥
                if (sellerId) {
                    // ê¸°ì¡´ ì…€ëŸ¬ì— ì •ë³´ ì—…ë°ì´íŠ¸
                    await db.collection('sellers').doc(sellerId).update({
                        // ì…ì ì‹ ì²­ ì •ë³´ ì—…ë°ì´íŠ¸
                        name: applicationData.name || sellerData?.name,
                        contact: applicationData.phone,
                        email: applicationData.email,
                        businessType: applicationData.businessType,
                        businessNumber: applicationData.businessNumber,
                        instagram: applicationData.instagram,
                        channelLink: applicationData.instagram.startsWith('@')
                            ? `https://instagram.com/${applicationData.instagram.slice(1)}`
                            : applicationData.instagram,
                        followers: applicationData.followers,
                        category: applicationData.categories.join(', '),
                        notes: applicationData.introduction,
                        // ì„œë¥˜ ì •ë³´
                        documentsSubmitted: true,
                        documentsApproved: false,
                        onboardingDocuments: docData,
                        // ì˜¨ë³´ë”© ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™ ì—…ë°ì´íŠ¸
                        obForm: true,
                        obBank: true,
                        obIdCard: true,
                        journeyDocuments: true,
                        journeyBankInfo: true,
                        journeyIdCard: true
                    });
                } else {
                    // ì…€ëŸ¬ ID ì—†ì´ ì œì¶œëœ ê²½ìš° - ëŒ€ê¸° ì»¬ë ‰ì…˜ì— ì €ì¥
                    await db.collection('pendingOnboardings').add({
                        ...applicationData,
                        ...docData
                    });
                }

                document.getElementById('loading').style.display = 'none';
                document.getElementById('successModal').classList.add('show');

            } catch (error) {
                console.error('ì œì¶œ ì‹¤íŒ¨:', error);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('submitBtn').disabled = false;
                showToast('ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
            showSubmittedStatus();
            sellerData = { documentsSubmitted: true };
        }
    </script>
</body>
</html>
