<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê³µêµ¬ ê°€ì´ë“œ | ëª¨ì—¬ë¼ë”œ</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --main: #fc9600; --main-dark: #e08600; --white: #ffffff; --gray: #666; --light-gray: #f5f5f5; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background: linear-gradient(180deg, var(--main) 0%, #ffb340 100%); min-height: 100vh; padding: 20px 16px 40px; line-height: 1.5; }
        .logo { text-align: center; margin-bottom: 20px; }
        .logo img { height: 40px; }
        .header { text-align: center; color: var(--white); margin-bottom: 24px; }
        .header h1 { font-size: 24px; font-weight: 800; text-shadow: 0 2px 8px rgba(0,0,0,0.15); margin-bottom: 8px; }
        .header p { font-size: 14px; opacity: 0.95; }
        .tabs { display: flex; gap: 8px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 14px 8px; border: none; border-radius: 16px; font-size: 14px; font-weight: 700; cursor: pointer; background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 100%); color: var(--gray); box-shadow: 0 4px 0 #d0d0d0, 0 6px 12px rgba(0,0,0,0.15); transition: all 0.15s; }
        .tab-btn.active { background: linear-gradient(180deg, #ffffff 0%, #fff8f0 100%); color: var(--main); box-shadow: 0 2px 0 var(--main-dark), 0 4px 12px rgba(252, 150, 0, 0.3); transform: translateY(2px); }
        .tab-btn:active { transform: translateY(2px); }
        .content-card { background: var(--white); border-radius: 24px; padding: 24px 20px; box-shadow: 0 8px 0 rgba(0,0,0,0.08), 0 12px 24px rgba(0,0,0,0.1); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .section-title { font-size: 18px; font-weight: 800; color: var(--main); margin-bottom: 16px; }
        
        /* ìƒí’ˆ ì¹´ë“œ */
        .product-card { background: var(--light-gray); border-radius: 16px; padding: 16px; margin-bottom: 12px; display: flex; align-items: center; gap: 12px; }
        .product-card.featured { background: linear-gradient(135deg, #fff8f0 0%, #ffedd5 100%); border: 2px solid var(--main); }
        .product-icon { font-size: 28px; width: 48px; height: 48px; background: var(--white); border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .product-info { flex: 1; }
        .product-name { font-size: 15px; font-weight: 700; color: #333; margin-bottom: 2px; }
        .product-desc { font-size: 12px; color: var(--gray); }
        .product-margin { text-align: right; }
        .margin-rate { font-size: 18px; font-weight: 800; color: #e53935; }
        .margin-label { font-size: 11px; color: #999; }
        
        /* í˜œíƒ ë°•ìŠ¤ */
        .benefit-box { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border: 2px solid #fcd34d; border-radius: 16px; padding: 16px; margin-top: 20px; }
        .benefit-title { font-size: 15px; font-weight: 700; color: #d97706; margin-bottom: 12px; }
        .benefit-item { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 10px; }
        .benefit-item:last-child { margin-bottom: 0; }
        .benefit-num { width: 22px; height: 22px; background: #fbbf24; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; flex-shrink: 0; }
        .benefit-text { font-size: 14px; color: #92400e; line-height: 1.5; }
        
        /* ì¼ì • */
        .timeline-item { display: flex; gap: 12px; margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid #eee; }
        .timeline-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .timeline-dot { width: 32px; height: 32px; background: linear-gradient(180deg, var(--main) 0%, var(--main-dark) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 700; flex-shrink: 0; box-shadow: 0 3px 0 rgba(0,0,0,0.15); }
        .timeline-content { flex: 1; }
        .timeline-title { font-size: 15px; font-weight: 700; color: #333; margin-bottom: 4px; }
        .timeline-desc { font-size: 13px; color: var(--gray); line-height: 1.6; }
        .timeline-highlight { background: #fff3cd; color: #856404; padding: 2px 6px; border-radius: 4px; font-weight: 600; font-size: 12px; display: inline-block; margin-top: 4px; }
        
        /* íŒ ë°•ìŠ¤ */
        .tip-box { background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-radius: 12px; padding: 14px 16px; margin-top: 20px; }
        .tip-title { font-size: 14px; font-weight: 700; color: #2e7d32; margin-bottom: 6px; }
        .tip-desc { font-size: 13px; color: #1b5e20; line-height: 1.5; }
        
        /* ìº¡ì…˜ */
        .caption-section { margin-bottom: 24px; }
        .caption-label { font-size: 14px; font-weight: 700; color: #333; margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
        .caption-label .num { width: 22px; height: 22px; background: var(--main); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .caption-box { background: var(--light-gray); border-radius: 12px; padding: 16px; font-size: 13px; line-height: 1.8; color: #333; margin-bottom: 10px; white-space: pre-line; max-height: 220px; overflow-y: auto; }
        .copy-btn { width: 100%; padding: 14px; border: none; border-radius: 12px; font-size: 15px; font-weight: 700; cursor: pointer; background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 100%); color: var(--main); box-shadow: 0 4px 0 #d0d0d0, 0 6px 12px rgba(0,0,0,0.1); transition: all 0.15s; }
        .copy-btn:active { transform: translateY(2px); }
        
        /* ì…ë ¥ í•„ë“œ */
        .input-group { margin-bottom: 20px; }
        .input-label { font-size: 14px; font-weight: 700; color: #333; margin-bottom: 8px; display: block; }
        .input-field { width: 100%; padding: 14px 16px; border: 2px solid #e5e5e5; border-radius: 12px; font-size: 14px; font-family: inherit; transition: all 0.2s; }
        .input-field:focus { outline: none; border-color: var(--main); }
        .input-hint { font-size: 12px; color: #999; margin-top: 6px; }
        
        /* í•´ì‹œíƒœê·¸ */
        .hashtag-box { background: var(--light-gray); border-radius: 12px; padding: 16px; margin-top: 20px; }
        .hashtag-title { font-size: 14px; font-weight: 700; color: #333; margin-bottom: 10px; }
        .hashtags { display: flex; flex-wrap: wrap; gap: 6px; }
        .hashtag { background: var(--white); padding: 6px 10px; border-radius: 20px; font-size: 12px; color: var(--main); font-weight: 600; box-shadow: 0 2px 4px rgba(0,0,0,0.06); }
        
        /* ë¡œë”© */
        .loading { text-align: center; padding: 60px 20px; }
        .loading-spinner { width: 40px; height: 40px; border: 3px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 16px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading-text { color: white; font-size: 14px; }
        
        /* ì—ëŸ¬ */
        .error-box { background: white; border-radius: 24px; padding: 40px 20px; text-align: center; }
        .error-icon { font-size: 48px; margin-bottom: 16px; }
        .error-text { color: #666; font-size: 14px; line-height: 1.6; }
        
        /* í† ìŠ¤íŠ¸ */
        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: #333; color: white; padding: 14px 28px; border-radius: 30px; font-size: 14px; font-weight: 600; opacity: 0; transition: all 0.3s; z-index: 1000; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        
        .footer { text-align: center; margin-top: 24px; color: rgba(255,255,255,0.8); font-size: 12px; }
    </style>
</head>
<body>
    <div id="app">
        <div class="loading">
            <div class="loading-spinner"></div>
            <p class="loading-text">ê°€ì´ë“œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        </div>
    </div>
    
    <div class="toast" id="toast">âœ“ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <script>
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyD4BoC8JLnhgCsEcbL6XNheMjm5QY8qodo",
            authDomain: "moyeora-392ce.firebaseapp.com",
            projectId: "moyeora-392ce",
            storageBucket: "moyeora-392ce.appspot.com",
            messagingSenderId: "305739605032",
            appId: "1:305739605032:web:ab3b2bef051c41aa4c06cb"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // URLì—ì„œ ê³µêµ¬ ID ê°€ì ¸ì˜¤ê¸°
        const urlParams = new URLSearchParams(window.location.search);
        const dealId = urlParams.get('id');
        
        // ì „ì—­ ìƒíƒœ
        let dealData = null;
        let supplierData = null;
        let sellerData = null;
        let productsData = [];
        let productLink = '';
        
        // ì´ˆê¸°í™”
        async function init() {
            if (!dealId) {
                showError('ê³µêµ¬ IDê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            try {
                // ê³µêµ¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                const dealDoc = await db.collection('deals').doc(dealId).get();
                if (!dealDoc.exists) {
                    showError('ê³µêµ¬ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                dealData = { id: dealDoc.id, ...dealDoc.data() };
                
                // ê³µê¸‰ì‚¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                if (dealData.supplierId) {
                    const supplierDoc = await db.collection('suppliers').doc(dealData.supplierId).get();
                    if (supplierDoc.exists) {
                        supplierData = { id: supplierDoc.id, ...supplierDoc.data() };
                    }
                }
                
                // ì…€ëŸ¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                if (dealData.sellerId) {
                    const sellerDoc = await db.collection('sellers').doc(dealData.sellerId).get();
                    if (sellerDoc.exists) {
                        sellerData = { id: sellerDoc.id, ...sellerDoc.data() };
                    }
                }
                
                // ìƒí’ˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                const productsSnap = await db.collection('supplier_products').get();
                const allProducts = productsSnap.docs.map(d => ({ id: d.id, ...d.data() }));
                
                // ì„ íƒëœ ìƒí’ˆë§Œ í•„í„°ë§
                if (dealData.selectedProducts && dealData.selectedProducts.length > 0) {
                    productsData = dealData.selectedProducts.map(item => {
                        const pid = typeof item === 'string' ? item : item.productId;
                        const product = allProducts.find(p => p.id === pid);
                        if (product) {
                            return {
                                ...product,
                                marginRate: typeof item === 'object' ? item.marginRate : 0
                            };
                        }
                        return null;
                    }).filter(Boolean);
                }
                
                render();
            } catch (e) {
                console.error(e);
                showError('ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        // ì—ëŸ¬ í‘œì‹œ
        function showError(msg) {
            document.getElementById('app').innerHTML = `
                <div class="error-box">
                    <div class="error-icon">ğŸ˜¢</div>
                    <p class="error-text">${msg}</p>
                </div>
            `;
        }
        
        // í† ìŠ¤íŠ¸
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }
        
        // íƒ­ ì „í™˜
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        // ì…€ëŸ¬ ë‹‰ë„¤ì„ ì¶”ì¶œ
        function getSellerNickname() {
            if (!sellerData?.name) return 'ì…€ëŸ¬';
            const parts = sellerData.name.split('/');
            if (parts.length > 1) {
                // "ë³¸ëª…/ë‹‰ë„¤ì„(íŒ”ë¡œì›Œìˆ˜)" í˜•íƒœì—ì„œ ë‹‰ë„¤ì„ë§Œ ì¶”ì¶œ
                return parts[1].replace(/\([^)]*\)/g, '').trim();
            }
            return sellerData.name;
        }
        
        // í˜œíƒ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
        function getBenefits() {
            const nego = dealData.negotiation || {};
            // ê³µê¸‰ì‚¬ ì œê³µ + ëª¨ì—¬ë¼ë”œ ì œê³µ + ê¸°ì¡´ eventë¥¼ í•©ì¹˜ê³ , ì‰¼í‘œë¡œ ë¶„ë¦¬
            return [nego.eventSupplier, nego.eventMoyeora, nego.event]
                .filter(Boolean)
                .join(', ')
                .split(',')
                .map(s => s.trim())
                .filter(Boolean);
        }
        
        // ìº¡ì…˜ ìƒì„±
        function generateCaptions() {
            const sellerNickname = getSellerNickname();
            const brandName = supplierData?.name || 'ë¸Œëœë“œ';
            const benefits = getBenefits();
            const benefitText = benefits.join('\n');
            const link = productLink || '[í”„ë¡œí•„ ë§í¬]';
            
            // ìƒí’ˆ ëª©ë¡
            const productList = productsData.map(p => {
                const icon = p.productName.includes('ì ¤ë¦¬') ? 'ğŸ‡' : 'ğŸ§ƒ';
                return `${icon} ${p.productName}`;
            }).join('\n');
            
            // í•´ì‹œíƒœê·¸
            const hashtags = `#${brandName.replace(/\s/g, '')} #ê³µë™êµ¬ë§¤ #ëª¨ì—¬ë¼ë”œ`;
            
            return {
                caption1: `ğŸ”¥ ê³µêµ¬ì˜¤í”ˆ D-1

${brandName} íŠ¹ê°€ ê³µêµ¬ ì˜ˆê³ !

${benefits[0] ? `ğŸ ${benefits[0]}` : ''}

ğŸ“ ë‚´ì¼ ì˜¤í”ˆ ì˜ˆì •!
ğŸ“ ${link}

${hashtags}`,

                caption2: `ğŸ”¥ ê³µêµ¬ ì˜¤ëŠ˜ ì˜¤í”ˆ!

${brandName} íŠ¹ë³„ í• ì¸ ğŸ‰

${benefits.map((b, i) => `${i+1}. ${b}`).join('\n')}

ğŸ“ ì§€ê¸ˆ ë°”ë¡œ êµ¬ë§¤í•˜ì„¸ìš”!
ğŸ“ ${link}

${hashtags}`,

                caption3: `ğŸ”¥ ${sellerNickname} X ${brandName} ê³µêµ¬ ğŸ”¥

ğŸ“¦ ìƒí’ˆ êµ¬ì„±
${productList}

${benefitText ? `\nğŸ í˜œíƒ\n${benefits.map((b, i) => `${i+1}. ${b}`).join('\n')}\n` : ''}
ğŸ›’ êµ¬ë§¤ë§í¬
${link}

${hashtags}`
            };
        }
        
        // ìº¡ì…˜ ë³µì‚¬
        function copyCaption(num) {
            const captions = generateCaptions();
            const captionKey = `caption${num}`;
            navigator.clipboard.writeText(captions[captionKey]).then(() => {
                showToast('âœ“ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }
        
        // í•´ì‹œíƒœê·¸ ë³µì‚¬
        function copyHashtags() {
            const brandName = supplierData?.name || 'ë¸Œëœë“œ';
            const hashtags = `#${brandName.replace(/\s/g, '')} #ê³µë™êµ¬ë§¤ #ëª¨ì—¬ë¼ë”œ #íŠ¹ê°€ #í• ì¸`;
            navigator.clipboard.writeText(hashtags).then(() => {
                showToast('âœ“ í•´ì‹œíƒœê·¸ ë³µì‚¬ë¨!');
            });
        }
        
        // ìƒí’ˆ ë§í¬ ì—…ë°ì´íŠ¸
        function updateProductLink(value) {
            productLink = value;
            updateCaptionPreviews();
        }
        
        // ìº¡ì…˜ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        function updateCaptionPreviews() {
            const captions = generateCaptions();
            const caption1El = document.getElementById('caption1');
            const caption2El = document.getElementById('caption2');
            const caption3El = document.getElementById('caption3');
            if (caption1El) caption1El.textContent = captions.caption1;
            if (caption2El) caption2El.textContent = captions.caption2;
            if (caption3El) caption3El.textContent = captions.caption3;
        }
        
        // ë Œë”ë§
        function render() {
            const sellerNickname = getSellerNickname();
            const brandName = supplierData?.name || 'ë¸Œëœë“œ';
            const benefits = getBenefits();
            const captions = generateCaptions();
            
            // ìƒí’ˆëª… ìš”ì•½
            const productSummary = productsData.slice(0, 2).map(p => p.productName).join(', ') + (productsData.length > 2 ? ' ì™¸' : '');
            
            document.getElementById('app').innerHTML = `
                <div class="logo"><img src="logo-horizontal.png" alt="ëª¨ì—¬ë¼ë”œ" onerror="this.style.display='none'"></div>
                
                <div class="header">
                    <h1>ğŸ ${sellerNickname} ê³µêµ¬ ê°€ì´ë“œ</h1>
                    <p>${brandName} | ${productSummary}</p>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="showTab('product')">ğŸ“¦ ìƒí’ˆ</button>
                    <button class="tab-btn" onclick="showTab('schedule')">ğŸ“… ì¼ì •</button>
                    <button class="tab-btn" onclick="showTab('caption')">âœï¸ ìº¡ì…˜</button>
                </div>
                
                <div class="content-card">
                    <!-- ìƒí’ˆ íƒ­ -->
                    <div id="product" class="tab-content active">
                        <div class="section-title">ğŸ“¦ ê³µêµ¬ ìƒí’ˆ</div>
                        
                        ${productsData.length > 0 ? productsData.map((p, idx) => `
                            <div class="product-card ${idx === 0 ? 'featured' : ''}">
                                <div class="product-icon">${p.productName.includes('ì ¤ë¦¬') ? 'ğŸ‡' : 'ğŸ§ƒ'}</div>
                                <div class="product-info">
                                    <div class="product-name">${p.productName}</div>
                                    <div class="product-desc">${brandName}</div>
                                </div>
                                <div class="product-margin">
                                    <div class="margin-rate">${p.marginRate || 0}%</div>
                                    <div class="margin-label">ë§ˆì§„ìœ¨</div>
                                </div>
                            </div>
                        `).join('') : '<p style="color:#999; text-align:center; padding:20px;">ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>'}
                        
                        ${benefits.length > 0 ? `
                            <div class="benefit-box">
                                <div class="benefit-title">ğŸ ì´ë²ˆ ê³µêµ¬ í˜œíƒ</div>
                                ${benefits.map((b, idx) => `
                                    <div class="benefit-item">
                                        <span class="benefit-num">${idx + 1}</span>
                                        <span class="benefit-text">${b}</span>
                                    </div>
                                `).join('')}
                            </div>
                        ` : ''}
                    </div>
                    
                    <!-- ì¼ì • íƒ­ -->
                    <div id="schedule" class="tab-content">
                        <div class="section-title">ğŸ“… ê³µêµ¬ ì¼ì •</div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot">1</div>
                            <div class="timeline-content">
                                <div class="timeline-title">ğŸ“¦ ìƒ˜í”Œ ìˆ˜ë ¹</div>
                                <div class="timeline-desc">ê³µê¸‰ì‚¬ì—ì„œ ìƒ˜í”Œì´ ë„ì°©í•˜ë©´<br>ì´¬ì˜ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”!</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot">2</div>
                            <div class="timeline-content">
                                <div class="timeline-title">ğŸ“¸ ì»¨í…ì¸  ì œì‘</div>
                                <div class="timeline-desc">ì‚¬ì§„/ì˜ìƒ ì´¬ì˜ ë° í¸ì§‘<br><span class="timeline-highlight">ê³µêµ¬ ì‹œì‘ ì „ ì™„ë£Œ</span></div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot">3</div>
                            <div class="timeline-content">
                                <div class="timeline-title">ğŸ”¥ ê³µêµ¬ ì˜¤í”ˆ</div>
                                <div class="timeline-desc">${dealData.startDate} ì‹œì‘<br><span class="timeline-highlight">${dealData.endDate} ê¹Œì§€</span></div>
                            </div>
                        </div>
                        
                        <div class="tip-box">
                            <div class="tip-title">ğŸ’¡ íŒë§¤ UP ê¿€íŒ!</div>
                            <div class="tip-desc">ìŠ¤í† ë¦¬ì™€ í”¼ë“œë¥¼ í•¨ê»˜ ì˜¬ë¦¬ë©´<br>íŒë§¤ëŸ‰ì´ ë” ì˜¬ë¼ê°€ìš”!</div>
                        </div>
                    </div>
                    
                    <!-- ìº¡ì…˜ íƒ­ -->
                    <div id="caption" class="tab-content">
                        <div class="section-title">âœï¸ ìº¡ì…˜ ë³µì‚¬</div>
                        
                        <div class="input-group">
                            <label class="input-label">ğŸ”— ìƒí’ˆ ë§í¬ ì…ë ¥</label>
                            <input type="text" class="input-field" id="product-link-input" placeholder="https://smartstore.naver.com/..." oninput="updateProductLink(this.value)">
                            <p class="input-hint">ë§í¬ë¥¼ ì…ë ¥í•˜ë©´ ìº¡ì…˜ì— ìë™ ë°˜ì˜ë©ë‹ˆë‹¤</p>
                        </div>
                        
                        <div class="caption-section">
                            <div class="caption-label"><span class="num">1</span> ê³µêµ¬ì˜ˆê³  D-1</div>
                            <div class="caption-box" id="caption1">${captions.caption1}</div>
                            <button class="copy-btn" onclick="copyCaption(1)">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
                        </div>
                        
                        <div class="caption-section">
                            <div class="caption-label"><span class="num">2</span> ê³µêµ¬ ì˜¤í”ˆ</div>
                            <div class="caption-box" id="caption2">${captions.caption2}</div>
                            <button class="copy-btn" onclick="copyCaption(2)">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
                        </div>
                        
                        <div class="caption-section">
                            <div class="caption-label"><span class="num">3</span> ìƒí’ˆ ìƒì„¸</div>
                            <div class="caption-box" id="caption3">${captions.caption3}</div>
                            <button class="copy-btn" onclick="copyCaption(3)">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
                        </div>
                        
                        <div class="hashtag-box">
                            <div class="hashtag-title">#ï¸âƒ£ í•´ì‹œíƒœê·¸</div>
                            <div class="hashtags">
                                <span class="hashtag">#${brandName.replace(/\s/g, '')}</span>
                                <span class="hashtag">#ê³µë™êµ¬ë§¤</span>
                                <span class="hashtag">#ëª¨ì—¬ë¼ë”œ</span>
                                <span class="hashtag">#íŠ¹ê°€</span>
                                <span class="hashtag">#í• ì¸</span>
                            </div>
                            <button class="copy-btn" style="margin-top: 12px;" onclick="copyHashtags()">ğŸ“‹ í•´ì‹œíƒœê·¸ ë³µì‚¬</button>
                        </div>
                    </div>
                </div>
                
                <div class="footer">ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“  ë¬¸ì˜ì£¼ì„¸ìš” ğŸ˜Š</div>
            `;
        }
        
        // ì‹œì‘
        init();
    </script>
</body>
</html>
