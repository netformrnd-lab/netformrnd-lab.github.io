<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ëª¨ì—¬ë¼ë”œ ê³µê¸‰ì‚¬ ì œì•ˆì„œ</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-dark: #0a0a0a;
            --bg-card: #141414;
            --bg-card-hover: #1a1a1a;
            --accent: #f97316;
            --accent-light: #fb923c;
            --accent-glow: rgba(249, 115, 22, 0.3);
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border: #27272a;
            --success: #10b981;
            --success-glow: rgba(16, 185, 129, 0.3);
        }

        html, body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            height: 100%;
            overflow: hidden;
        }

        /* ==================== ëª¨ë°”ì¼ íšŒì „ ì•ˆë‚´ ==================== */
        .rotate-notice {
            display: none;
            position: fixed;
            inset: 0;
            background: var(--bg-dark);
            z-index: 9999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px;
        }

        .rotate-notice .phone-icon {
            width: 80px;
            height: 140px;
            border: 3px solid var(--accent);
            border-radius: 16px;
            margin-bottom: 24px;
            position: relative;
            animation: rotatePhone 2s ease-in-out infinite;
        }

        .rotate-notice .phone-icon::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        @keyframes rotatePhone {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
        }

        .rotate-notice h2 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        .rotate-notice p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .rotate-notice .skip-btn {
            margin-top: 32px;
            padding: 12px 24px;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
        }

        @media (max-width: 768px) and (orientation: portrait) {
            .rotate-notice { display: flex; }
            .rotate-notice.hidden { display: none; }
        }

        /* ==================== ë©”ì¸ ë ˆì´ì•„ì›ƒ ==================== */
        .proposal-container {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* ==================== ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜ ==================== */
        .sidebar {
            width: 200px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar-header {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
            font-weight: 700;
            color: var(--accent);
        }

        .sidebar-logo img {
            height: 24px;
        }

        .sidebar-page-info {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .sidebar-supplier {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            padding: 6px 10px;
            background: var(--bg-dark);
            border-radius: 6px;
        }

        .sidebar-nav {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .nav-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: var(--bg-card-hover);
        }

        .nav-item.active {
            background: var(--bg-dark);
            border-color: var(--accent);
        }

        .nav-item.completed .nav-thumb {
            border-color: var(--success);
        }

        .nav-thumb {
            width: 60px;
            height: 34px;
            background: var(--bg-dark);
            border-radius: 4px;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: var(--text-muted);
            flex-shrink: 0;
            overflow: hidden;
        }

        .nav-item.active .nav-thumb {
            border-color: var(--accent);
        }

        .nav-info {
            flex: 1;
            min-width: 0;
        }

        .nav-page-num {
            font-size: 10px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .nav-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-item.active .nav-title {
            color: var(--text-primary);
        }

        /* ==================== ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ ==================== */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: #1a1a1a;
        }

        .slide-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            overflow: hidden;
        }

        .slide-wrapper {
            width: 100%;
            max-width: 1200px;
            aspect-ratio: 16 / 9;
            max-height: calc(100vh - 140px);
            position: relative;
        }

        .slide {
            position: absolute;
            inset: 0;
            background: var(--bg-dark);
            border-radius: 12px;
            overflow: hidden;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }

        .slide.prev {
            transform: translateX(-100px);
        }

        .slide-inner {
            width: 100%;
            height: 100%;
            padding: 48px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        /* ==================== í•˜ë‹¨ ì»¨íŠ¸ë¡¤ë°” ==================== */
        .control-bar {
            height: 60px;
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0 24px;
        }

        .control-btn {
            width: 44px;
            height: 44px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: var(--bg-card-hover);
            color: var(--text-primary);
        }

        .control-btn.primary {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
            width: auto;
            padding: 0 20px;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
        }

        .control-btn.primary:hover {
            background: var(--accent-light);
        }

        .page-indicator {
            padding: 0 16px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .page-indicator span {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* ==================== ìš°ì¸¡ ì •ë³´ íŒ¨ë„ ==================== */
        .info-panel {
            width: 320px;
            background: var(--bg-card);
            border-left: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .info-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }

        .info-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .info-subtitle {
            font-size: 12px;
            color: var(--text-muted);
        }

        .info-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .info-section {
            margin-bottom: 24px;
        }

        .info-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .hashtag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .hashtag {
            padding: 6px 12px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .progress-bar {
            height: 6px;
            background: var(--bg-dark);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* ê³µê¸‰ì‚¬ ì •ë³´ ì¹´ë“œ */
        .supplier-info-card {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .supplier-info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
        }

        .supplier-info-item:last-child {
            border-bottom: none;
        }

        .supplier-info-label {
            color: var(--text-muted);
        }

        .supplier-info-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .info-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
        }

        .cta-btn {
            width: 100%;
            padding: 14px;
            background: var(--accent);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .cta-btn:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--accent-glow);
        }

        .cta-btn:disabled {
            background: var(--border);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼ ==================== */
        .slide-header {
            margin-bottom: 32px;
        }

        .slide-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: var(--accent);
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            color: white;
            margin-bottom: 16px;
        }

        .slide-title {
            font-size: clamp(28px, 4vw, 48px);
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 12px;
        }

        .slide-title .highlight {
            color: var(--accent);
        }

        .slide-subtitle {
            font-size: clamp(14px, 2vw, 18px);
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 1: ì¸íŠ¸ë¡œ ==================== */
        .slide-intro {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
        }

        .slide-intro .slide-inner {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 48px;
            align-items: center;
        }

        .intro-left {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .intro-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .intro-logo img {
            height: 40px;
        }

        .intro-logo-text {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent);
        }

        .intro-main-title {
            font-size: clamp(32px, 5vw, 56px);
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        .intro-desc {
            font-size: clamp(14px, 2vw, 18px);
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 32px;
        }

        .intro-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .intro-tag {
            padding: 8px 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .intro-right {
            position: relative;
        }

        .intro-image-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .intro-image-item {
            aspect-ratio: 1;
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .intro-image-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 2: í”Œë«í¼ ì†Œê°œ ==================== */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 32px;
        }

        .benefit-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s;
        }

        .benefit-card:hover {
            border-color: var(--accent);
            transform: translateY(-4px);
        }

        .benefit-icon {
            width: 56px;
            height: 56px;
            background: var(--bg-dark);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 24px;
        }

        .benefit-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .benefit-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--accent);
            margin-bottom: 4px;
        }

        .benefit-desc {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 3: í˜‘ì—… êµ¬ì¡° ==================== */
        .structure-grid {
            display: grid;
            grid-template-columns: 1fr 100px 1fr 100px 1fr;
            gap: 16px;
            align-items: center;
            margin-top: 48px;
        }

        .structure-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px 24px;
            text-align: center;
        }

        .structure-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .structure-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .structure-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .structure-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--accent);
        }

        .structure-arrow i {
            font-size: 24px;
        }

        .structure-arrow span {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 4: ë§ˆì§„/ì •ì‚° ==================== */
        .margin-comparison {
            display: grid;
            grid-template-columns: 1fr 80px 1fr;
            gap: 24px;
            align-items: center;
            margin-top: 48px;
        }

        .margin-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
        }

        .margin-card.highlight {
            border-color: var(--accent);
            box-shadow: 0 0 40px var(--accent-glow);
        }

        .margin-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .margin-card-icon {
            width: 48px;
            height: 48px;
            background: var(--bg-dark);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .margin-card-title {
            font-size: 16px;
            font-weight: 700;
        }

        .margin-card-subtitle {
            font-size: 12px;
            color: var(--text-muted);
        }

        .margin-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .margin-item:last-child {
            border-bottom: none;
        }

        .margin-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .margin-value {
            font-size: 16px;
            font-weight: 700;
        }

        .margin-value.good {
            color: var(--success);
        }

        .margin-value.bad {
            color: #ef4444;
        }

        .vs-badge {
            background: var(--accent);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 800;
            margin: 0 auto;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 5: ì˜¨ë³´ë”© (í˜‘ì—… ì¡°ê±´) ==================== */
        .onboarding-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            margin-top: 24px;
        }

        .agreement-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 28px;
        }

        .agreement-card-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .agreement-item {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 14px 0;
            border-bottom: 1px solid var(--border);
        }

        .agreement-item:last-child {
            border-bottom: none;
        }

        .agreement-checkbox {
            width: 24px;
            height: 24px;
            background: var(--bg-dark);
            border: 2px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
        }

        .agreement-checkbox.checked {
            background: var(--accent);
            border-color: var(--accent);
        }

        .agreement-checkbox i {
            color: white;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .agreement-checkbox.checked i {
            opacity: 1;
        }

        .agreement-text {
            flex: 1;
        }

        .agreement-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .agreement-desc {
            font-size: 12px;
            color: var(--text-muted);
            line-height: 1.5;
        }

        .onboarding-right {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .company-summary {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
        }

        .company-summary-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .company-summary-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
        }

        .company-summary-item:last-child {
            border-bottom: none;
        }

        .company-summary-label {
            color: var(--text-muted);
        }

        .company-summary-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .all-agree-btn {
            width: 100%;
            padding: 18px;
            background: var(--bg-dark);
            border: 2px solid var(--border);
            border-radius: 12px;
            color: var(--text-secondary);
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .all-agree-btn:hover {
            border-color: var(--accent);
        }

        .all-agree-btn.agreed {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .submit-onboarding-btn {
            width: 100%;
            padding: 18px;
            background: var(--success);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .submit-onboarding-btn:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px var(--success-glow);
        }

        .submit-onboarding-btn:disabled {
            background: var(--border);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ==================== ìŠ¬ë¼ì´ë“œ 6: ì™„ë£Œ ==================== */
        .complete-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 100%;
        }

        .complete-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--success), #34d399);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            color: white;
            margin-bottom: 32px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 var(--success-glow); }
            50% { box-shadow: 0 0 0 20px transparent; }
        }

        .complete-title {
            font-size: clamp(28px, 4vw, 40px);
            font-weight: 800;
            margin-bottom: 16px;
        }

        .complete-title .highlight {
            color: var(--accent);
        }

        .complete-desc {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 48px;
            line-height: 1.8;
        }

        .complete-steps {
            display: flex;
            gap: 24px;
            margin-bottom: 48px;
        }

        .complete-step {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
        }

        .complete-step-num {
            width: 32px;
            height: 32px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
        }

        .complete-step-text {
            font-size: 14px;
            font-weight: 600;
        }

        .complete-contact {
            padding: 24px 48px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
        }

        .complete-contact-title {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .complete-contact-info {
            font-size: 18px;
            font-weight: 700;
            color: var(--accent);
        }

        /* ==================== ë°˜ì‘í˜• ==================== */
        @media (max-width: 1200px) {
            .info-panel { display: none; }
            .sidebar { width: 180px; }
        }

        @media (max-width: 900px) {
            .sidebar { width: 160px; }
            .nav-thumb { width: 50px; height: 28px; }

            .slide-inner { padding: 32px; }

            .slide-intro .slide-inner { grid-template-columns: 1fr; }
            .intro-right { display: none; }

            .benefits-grid { grid-template-columns: repeat(2, 1fr); }
            .structure-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            .structure-arrow { transform: rotate(90deg); }

            .margin-comparison {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            .vs-badge { transform: rotate(90deg); }

            .onboarding-container { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                bottom: 0;
                width: 240px;
                z-index: 1000;
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-overlay {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0,0,0,0.5);
                z-index: 999;
            }

            .sidebar.open + .sidebar-overlay {
                display: block;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .control-bar {
                padding: 0 16px;
            }

            .page-indicator { padding: 0 8px; font-size: 12px; }

            .complete-steps {
                flex-direction: column;
                gap: 12px;
            }
        }

        @media (orientation: landscape) and (max-height: 500px) {
            .slide-inner { padding: 24px; }
            .slide-title { font-size: 24px; }
            .benefits-grid { gap: 8px; }
            .benefit-card { padding: 16px; }
        }

        /* ==================== ìœ í‹¸ë¦¬í‹° ==================== */
        .mobile-menu-btn {
            display: none;
            width: 44px;
            height: 44px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .hidden { display: none !important; }

        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            padding: 14px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--success);
            color: var(--success);
        }

        .toast.error {
            border-color: #ef4444;
            color: #ef4444;
        }
    </style>
</head>
<body>
    <!-- ëª¨ë°”ì¼ íšŒì „ ì•ˆë‚´ -->
    <div class="rotate-notice" id="rotateNotice">
        <div class="phone-icon"></div>
        <h2>í™”ë©´ì„ ê°€ë¡œë¡œ ëŒë ¤ì£¼ì„¸ìš”</h2>
        <p>ë” ë‚˜ì€ ì œì•ˆì„œ ê²½í—˜ì„ ìœ„í•´<br>ê°€ë¡œ ëª¨ë“œë¡œ ë³´ì‹œëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
        <button class="skip-btn" onclick="skipRotateNotice()">ê·¸ëƒ¥ ë³¼ê²Œìš”</button>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="proposal-container">
        <!-- ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜ -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <span style="font-size: 20px;">ğŸ›’</span>
                    <span>ëª¨ì—¬ë¼ë”œ</span>
                </div>
                <div class="sidebar-page-info">
                    <span id="currentPageNum">01</span> | <span id="totalPageNum">06</span>
                </div>
                <div class="sidebar-supplier" id="supplierName">
                    ê³µê¸‰ì‚¬ ì œì•ˆì„œ
                </div>
            </div>

            <nav class="sidebar-nav" id="sidebarNav">
                <!-- ë™ì  ìƒì„± -->
            </nav>
        </aside>

        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <div class="slide-container">
                <div class="slide-wrapper" id="slideWrapper">
                    <!-- ìŠ¬ë¼ì´ë“œ 1: ì¸íŠ¸ë¡œ -->
                    <div class="slide slide-intro active" data-slide="1">
                        <div class="slide-inner">
                            <div class="intro-left">
                                <div class="intro-logo">
                                    <span style="font-size: 36px;">ğŸ›’</span>
                                    <span class="intro-logo-text">ëª¨ì—¬ë¼ë”œ</span>
                                </div>
                                <h1 class="intro-main-title">
                                    ì œí’ˆì´ ì‹œì¥ì—<br>
                                    <span class="highlight">ë¹ ë¥´ê²Œ ë…¸ì¶œ</span>ë˜ê³ <br>
                                    ì‹¤êµ¬ë§¤ë¡œ ì´ì–´ì§€ëŠ” êµ¬ì¡°
                                </h1>
                                <p class="intro-desc">
                                    ë…¸ì¶œê³¼ íŒë§¤ë¥¼ ë™ì‹œì— í•´ê²°í•˜ëŠ” êµ¬ì¡°,<br>
                                    ê·¸ ì‹œì‘ì€ ëª¨ì—¬ë¼ë”œì…ë‹ˆë‹¤.
                                </p>
                                <div class="intro-tags">
                                    <span class="intro-tag">#ì½˜í…ì¸ ì œì‘</span>
                                    <span class="intro-tag">#2ì°¨ í™œìš©</span>
                                    <span class="intro-tag">#ì´ˆê¸°ë¹„ìš©0ì›</span>
                                    <span class="intro-tag">#ì— ë²„ì„œë”ë¹…ë°ì´í„°</span>
                                    <span class="intro-tag">#CSê´€ë¦¬</span>
                                </div>
                            </div>
                            <div class="intro-right">
                                <div class="intro-image-grid">
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #f97316 0%, #fb923c 100%);"></div>
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #10b981 0%, #34d399 100%);"></div>
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);"></div>
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);"></div>
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);"></div>
                                    <div class="intro-image-item" style="background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŠ¬ë¼ì´ë“œ 2: í”Œë«í¼ ì†Œê°œ -->
                    <div class="slide" data-slide="2">
                        <div class="slide-inner">
                            <div class="slide-header">
                                <span class="slide-badge"><i class="fas fa-gift"></i> ê³µê¸‰ì‚¬ í˜œíƒ</span>
                                <h2 class="slide-title">
                                    ëª¨ì—¬ë¼ë”œê³¼ í•¨ê»˜í•˜ë©´<br>
                                    <span class="highlight">ì´ëŸ° í˜œíƒ</span>ì´ ìˆì–´ìš”
                                </h2>
                                <p class="slide-subtitle">
                                    ì´ˆê¸° ë¹„ìš© ë¶€ë‹´ ì—†ì´, íŒë§¤ì™€ ë§ˆì¼€íŒ…ì„ ë™ì‹œì— í•´ê²°í•˜ì„¸ìš”.
                                </p>
                            </div>

                            <div class="benefits-grid">
                                <div class="benefit-card">
                                    <div class="benefit-icon">ğŸ’°</div>
                                    <div class="benefit-title">ê³µê¸‰ê°€ ë§ˆì§„</div>
                                    <div class="benefit-value">40~50%</div>
                                    <div class="benefit-desc">ë†’ì€ ë§ˆì§„ìœ¨ ë³´ì¥</div>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">ğŸ“…</div>
                                    <div class="benefit-title">ì •ì‚° ì£¼ê¸°</div>
                                    <div class="benefit-value">ì£¼ 1íšŒ</div>
                                    <div class="benefit-desc">ë¹ ë¥¸ ì •ì‚° ì‹œìŠ¤í…œ</div>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">ğŸ“¦</div>
                                    <div class="benefit-title">ì´ˆê¸° ë¹„ìš©</div>
                                    <div class="benefit-value">0ì›</div>
                                    <div class="benefit-desc">ì…ì ë¹„/ê´‘ê³ ë¹„ ë¬´ë£Œ</div>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">ğŸ¬</div>
                                    <div class="benefit-title">ì½˜í…ì¸  ì œì‘</div>
                                    <div class="benefit-value">ë¬´ë£Œ</div>
                                    <div class="benefit-desc">ìƒí’ˆ ì˜ìƒ/ì´ë¯¸ì§€ ì œê³µ</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŠ¬ë¼ì´ë“œ 3: í˜‘ì—… êµ¬ì¡° -->
                    <div class="slide" data-slide="3">
                        <div class="slide-inner">
                            <div class="slide-header">
                                <span class="slide-badge"><i class="fas fa-diagram-project"></i> í˜‘ì—… êµ¬ì¡°</span>
                                <h2 class="slide-title">
                                    <span class="highlight">ê°„ë‹¨í•œ êµ¬ì¡°</span>ë¡œ<br>
                                    ë¹ ë¥´ê²Œ ì‹œì‘í•˜ì„¸ìš”
                                </h2>
                            </div>

                            <div class="structure-grid">
                                <div class="structure-card">
                                    <div class="structure-icon">ğŸ­</div>
                                    <div class="structure-title">ê³µê¸‰ì‚¬</div>
                                    <div class="structure-desc">ìƒí’ˆ ê³µê¸‰<br>ì¬ê³  ê´€ë¦¬<br>ì¶œê³  ì²˜ë¦¬</div>
                                </div>
                                <div class="structure-arrow">
                                    <i class="fas fa-arrow-right"></i>
                                    <span>ìƒí’ˆ ê³µê¸‰</span>
                                </div>
                                <div class="structure-card">
                                    <div class="structure-icon">ğŸ›’</div>
                                    <div class="structure-title">ëª¨ì—¬ë¼ë”œ</div>
                                    <div class="structure-desc">ì½˜í…ì¸  ì œì‘<br>ë§ˆì¼€íŒ…/ë…¸ì¶œ<br>CS ê´€ë¦¬</div>
                                </div>
                                <div class="structure-arrow">
                                    <i class="fas fa-arrow-right"></i>
                                    <span>íŒë§¤/ì •ì‚°</span>
                                </div>
                                <div class="structure-card">
                                    <div class="structure-icon">ğŸ‘¥</div>
                                    <div class="structure-title">ê³ ê°</div>
                                    <div class="structure-desc">ê³µë™êµ¬ë§¤ ì°¸ì—¬<br>ìƒí’ˆ êµ¬ë§¤<br>í›„ê¸° ì‘ì„±</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŠ¬ë¼ì´ë“œ 4: ë§ˆì§„/ì •ì‚° ë¹„êµ -->
                    <div class="slide" data-slide="4">
                        <div class="slide-inner">
                            <div class="slide-header">
                                <span class="slide-badge"><i class="fas fa-chart-line"></i> ìˆ˜ìµ ë¹„êµ</span>
                                <h2 class="slide-title">
                                    ê¸°ì¡´ ìœ í†µ ëŒ€ë¹„<br>
                                    <span class="highlight">ë” ë†’ì€ ë§ˆì§„</span>ì„ ê°€ì ¸ê°€ì„¸ìš”
                                </h2>
                            </div>

                            <div class="margin-comparison">
                                <div class="margin-card">
                                    <div class="margin-card-header">
                                        <div class="margin-card-icon">ğŸª</div>
                                        <div>
                                            <div class="margin-card-title">ê¸°ì¡´ ìœ í†µ</div>
                                            <div class="margin-card-subtitle">ì˜¤í”ˆë§ˆì¼“/ì¢…í•©ëª°</div>
                                        </div>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">íŒë§¤ ìˆ˜ìˆ˜ë£Œ</span>
                                        <span class="margin-value bad">10~15%</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ê´‘ê³ ë¹„</span>
                                        <span class="margin-value bad">10~20%</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ì½˜í…ì¸  ì œì‘</span>
                                        <span class="margin-value bad">ì§ì ‘ ë¶€ë‹´</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ì‹¤ì§ˆ ë§ˆì§„</span>
                                        <span class="margin-value bad">15~25%</span>
                                    </div>
                                </div>

                                <div class="vs-badge">VS</div>

                                <div class="margin-card highlight">
                                    <div class="margin-card-header">
                                        <div class="margin-card-icon">ğŸ›’</div>
                                        <div>
                                            <div class="margin-card-title">ëª¨ì—¬ë¼ë”œ</div>
                                            <div class="margin-card-subtitle">ê³µë™êµ¬ë§¤ í”Œë«í¼</div>
                                        </div>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">íŒë§¤ ìˆ˜ìˆ˜ë£Œ</span>
                                        <span class="margin-value good">0%</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ê´‘ê³ ë¹„</span>
                                        <span class="margin-value good">0ì›</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ì½˜í…ì¸  ì œì‘</span>
                                        <span class="margin-value good">ë¬´ë£Œ ì œê³µ</span>
                                    </div>
                                    <div class="margin-item">
                                        <span class="margin-label">ì‹¤ì§ˆ ë§ˆì§„</span>
                                        <span class="margin-value good">40~50%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŠ¬ë¼ì´ë“œ 5: ì˜¨ë³´ë”© (í˜‘ì—… ì¡°ê±´ ë™ì˜) -->
                    <div class="slide" data-slide="5">
                        <div class="slide-inner">
                            <div class="slide-header">
                                <span class="slide-badge"><i class="fas fa-handshake"></i> ì…ì  ì‹ ì²­</span>
                                <h2 class="slide-title">
                                    <span class="highlight">í˜‘ì—… ì¡°ê±´</span>ì—<br>
                                    ë™ì˜í•´ ì£¼ì„¸ìš”
                                </h2>
                                <p class="slide-subtitle">
                                    ì•„ë˜ ì¡°ê±´ì„ í™•ì¸í•˜ê³  ë™ì˜í•˜ì‹œë©´ ë°”ë¡œ ì…ì ì´ ì§„í–‰ë©ë‹ˆë‹¤.
                                </p>
                            </div>

                            <div class="onboarding-container">
                                <div class="agreement-card">
                                    <h3 class="agreement-card-title">
                                        <i class="fas fa-clipboard-check" style="color: var(--accent);"></i>
                                        í•„ìˆ˜ í˜‘ì—… ì¡°ê±´
                                    </h3>

                                    <div class="agreement-item">
                                        <div class="agreement-checkbox" data-agree="margin" onclick="toggleAgree(this)">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="agreement-text">
                                            <div class="agreement-title">ë§ˆì§„ìœ¨ 40~50% ê³µê¸‰ê°€ ì œê³µ</div>
                                            <div class="agreement-desc">ì†Œë¹„ìê°€ ëŒ€ë¹„ 40~50% ë§ˆì§„ì´ í™•ë³´ë˜ëŠ” ê³µê¸‰ê°€ë¡œ ì œí’ˆì„ ê³µê¸‰í•©ë‹ˆë‹¤.</div>
                                        </div>
                                    </div>

                                    <div class="agreement-item">
                                        <div class="agreement-checkbox" data-agree="settlement" onclick="toggleAgree(this)">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="agreement-text">
                                            <div class="agreement-title">ì£¼ 1íšŒ ì •ì‚° (ìµì£¼ ìˆ˜ìš”ì¼)</div>
                                            <div class="agreement-desc">íŒë§¤ ì™„ë£Œëœ ê¸ˆì•¡ì€ ìµì£¼ ìˆ˜ìš”ì¼ì— ì •ì‚°ë©ë‹ˆë‹¤.</div>
                                        </div>
                                    </div>

                                    <div class="agreement-item">
                                        <div class="agreement-checkbox" data-agree="shipping" onclick="toggleAgree(this)">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="agreement-text">
                                            <div class="agreement-title">ì¶œê³  ê¸°ì¤€ ì¤€ìˆ˜ (D+2 ì´ë‚´)</div>
                                            <div class="agreement-desc">ì£¼ë¬¸ ì ‘ìˆ˜ í›„ 2ì¼ ì´ë‚´ ì¶œê³ ë¥¼ ì›ì¹™ìœ¼ë¡œ í•©ë‹ˆë‹¤.</div>
                                        </div>
                                    </div>

                                    <div class="agreement-item">
                                        <div class="agreement-checkbox" data-agree="content" onclick="toggleAgree(this)">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="agreement-text">
                                            <div class="agreement-title">ì½˜í…ì¸  2ì°¨ í™œìš© ë™ì˜</div>
                                            <div class="agreement-desc">ëª¨ì—¬ë¼ë”œì—ì„œ ì œì‘í•œ ì½˜í…ì¸ ì˜ ë§ˆì¼€íŒ… í™œìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</div>
                                        </div>
                                    </div>

                                    <div class="agreement-item">
                                        <div class="agreement-checkbox" data-agree="sample" onclick="toggleAgree(this)">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="agreement-text">
                                            <div class="agreement-title">ìƒ˜í”Œ ì œê³µ (ì½˜í…ì¸  ì œì‘ìš©)</div>
                                            <div class="agreement-desc">ì˜ìƒ/ì´ë¯¸ì§€ ì´¬ì˜ì„ ìœ„í•œ ìƒ˜í”Œ 1~2ê°œë¥¼ ì œê³µí•©ë‹ˆë‹¤.</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="onboarding-right">
                                    <div class="company-summary">
                                        <h4 class="company-summary-title">
                                            <i class="fas fa-building" style="color: var(--accent);"></i>
                                            ì‹ ì²­ ì •ë³´
                                        </h4>
                                        <div class="company-summary-item">
                                            <span class="company-summary-label">íšŒì‚¬ëª…</span>
                                            <span class="company-summary-value" id="summaryCompany">-</span>
                                        </div>
                                        <div class="company-summary-item">
                                            <span class="company-summary-label">ë‹´ë‹¹ì</span>
                                            <span class="company-summary-value" id="summaryManager">-</span>
                                        </div>
                                        <div class="company-summary-item">
                                            <span class="company-summary-label">ì—°ë½ì²˜</span>
                                            <span class="company-summary-value" id="summaryPhone">-</span>
                                        </div>
                                        <div class="company-summary-item">
                                            <span class="company-summary-label">ëŒ€í‘œ ìƒí’ˆ</span>
                                            <span class="company-summary-value" id="summaryProduct">-</span>
                                        </div>
                                    </div>

                                    <button class="all-agree-btn" id="allAgreeBtn" onclick="toggleAllAgree()">
                                        <i class="fas fa-check-double"></i>
                                        ì „ì²´ ë™ì˜í•˜ê¸°
                                    </button>

                                    <button class="submit-onboarding-btn" id="submitOnboardingBtn" onclick="submitOnboarding()" disabled>
                                        <i class="fas fa-rocket"></i>
                                        ì…ì  ì™„ë£Œí•˜ê¸°
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŠ¬ë¼ì´ë“œ 6: ì™„ë£Œ -->
                    <div class="slide" data-slide="6">
                        <div class="slide-inner">
                            <div class="complete-container">
                                <div class="complete-icon">
                                    <i class="fas fa-check"></i>
                                </div>
                                <h2 class="complete-title">
                                    ì…ì ì´ <span class="highlight">ì™„ë£Œ</span>ë˜ì—ˆìŠµë‹ˆë‹¤!
                                </h2>
                                <p class="complete-desc">
                                    ë‹´ë‹¹ìê°€ í™•ì¸ í›„ <strong>1ì¼ ì´ë‚´</strong>ì— ê³„ì•½ì„œë¥¼ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.<br>
                                    ì‚¬ì¸ë§Œ ì™„ë£Œí•˜ì‹œë©´ ë°”ë¡œ íŒë§¤ê°€ ì‹œì‘ë©ë‹ˆë‹¤!
                                </p>

                                <div class="complete-steps">
                                    <div class="complete-step">
                                        <div class="complete-step-num">1</div>
                                        <div class="complete-step-text">ë‹´ë‹¹ì ê²€í† </div>
                                    </div>
                                    <div class="complete-step">
                                        <div class="complete-step-num">2</div>
                                        <div class="complete-step-text">ê³„ì•½ì„œ ë°œì†¡</div>
                                    </div>
                                    <div class="complete-step">
                                        <div class="complete-step-num">3</div>
                                        <div class="complete-step-text">ì „ìì„œëª…</div>
                                    </div>
                                    <div class="complete-step">
                                        <div class="complete-step-num">4</div>
                                        <div class="complete-step-text">íŒë§¤ ì‹œì‘!</div>
                                    </div>
                                </div>

                                <div class="complete-contact">
                                    <div class="complete-contact-title">ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´</div>
                                    <div class="complete-contact-info">
                                        <i class="fas fa-phone"></i> 070-1234-5678
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í•˜ë‹¨ ì»¨íŠ¸ë¡¤ë°” -->
            <div class="control-bar">
                <button class="control-btn mobile-menu-btn" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <button class="control-btn" onclick="prevSlide()" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="page-indicator">
                    <span id="currentPage">1</span> / <span id="totalPages">6</span>
                </div>
                <button class="control-btn" onclick="nextSlide()" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <button class="control-btn" onclick="toggleFullscreen()">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </main>

        <!-- ìš°ì¸¡ ì •ë³´ íŒ¨ë„ -->
        <aside class="info-panel">
            <div class="info-header">
                <div class="info-title">ë¯¸ë””ì–´ì»¤ë¨¸ìŠ¤ ê¸°ë°˜ ìœ í†µí˜ì‹  í”Œë«í¼</div>
                <div class="info-subtitle">ëª¨ì—¬ë¼ë”œ ê³µê¸‰ì‚¬ ì œì•ˆì„œ</div>
            </div>

            <div class="info-content">
                <div class="info-section">
                    <div class="info-section-title">ì§„í–‰ë¥ </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 16%;"></div>
                    </div>
                    <div class="progress-text"><span id="progressText">1</span> / 6 ë‹¨ê³„</div>
                </div>

                <div class="info-section" id="supplierInfoSection">
                    <div class="info-section-title">ê³µê¸‰ì‚¬ ì •ë³´</div>
                    <div class="supplier-info-card">
                        <div class="supplier-info-item">
                            <span class="supplier-info-label">íšŒì‚¬ëª…</span>
                            <span class="supplier-info-value" id="infoCompany">-</span>
                        </div>
                        <div class="supplier-info-item">
                            <span class="supplier-info-label">ë‹´ë‹¹ì</span>
                            <span class="supplier-info-value" id="infoManager">-</span>
                        </div>
                        <div class="supplier-info-item">
                            <span class="supplier-info-label">ì—°ë½ì²˜</span>
                            <span class="supplier-info-value" id="infoPhone">-</span>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <div class="info-section-title">í‚¤ì›Œë“œ</div>
                    <div class="hashtag-list">
                        <span class="hashtag">#ì½˜í…ì¸ ì œì‘</span>
                        <span class="hashtag">#2ì°¨ í™œìš©</span>
                        <span class="hashtag">#ì´ˆê¸°ë¹„ìš©0ì›</span>
                        <span class="hashtag">#CSê´€ë¦¬</span>
                        <span class="hashtag">#ì´ë²¤íŠ¸ì§€ì›</span>
                        <span class="hashtag">#ë¸Œëœë“œ ì„±ì¥</span>
                        <span class="hashtag">#íŒë§¤íš¨ìœ¨</span>
                        <span class="hashtag">#ê³µë™êµ¬ë§¤</span>
                    </div>
                </div>
            </div>

            <div class="info-footer">
                <button class="cta-btn" id="ctaBtn" onclick="goToOnboardingSlide()">
                    <i class="fas fa-rocket"></i>
                    ì…ì  ì‹ ì²­í•˜ê¸°
                </button>
            </div>
        </aside>
    </div>

    <!-- í† ìŠ¤íŠ¸ -->
    <div class="toast" id="toast"></div>

    <script>
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyD_F0F6MBlMGcwBpVvFYsmztXaKKSeAv3Q",
            authDomain: "myd-db-test-1.firebaseapp.com",
            projectId: "myd-db-test-1",
            storageBucket: "myd-db-test-1.firebasestorage.app",
            messagingSenderId: "368468337741",
            appId: "1:368468337741:web:46d64e6a182aded8a45a5f"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ìƒíƒœ ê´€ë¦¬
        let currentSlide = 1;
        const totalSlides = 6;
        let proposalId = null;
        let supplierData = {};
        let agreements = {
            margin: false,
            settlement: false,
            shipping: false,
            content: false,
            sample: false
        };

        // URLì—ì„œ proposalId ê°€ì ¸ì˜¤ê¸°
        const urlParams = new URLSearchParams(window.location.search);
        proposalId = urlParams.get('id');

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', async () => {
            renderNavigation();
            updateControls();

            if (proposalId) {
                await loadProposalData();
            } else {
                showToast('ì œì•ˆì„œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'error');
            }

            // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevSlide();
                }
            });
        });

        // ì œì•ˆì„œ ë°ì´í„° ë¡œë“œ
        async function loadProposalData() {
            try {
                const doc = await db.collection('proposalDerivatives').doc(proposalId).get();
                if (doc.exists) {
                    supplierData = doc.data();

                    // ê³µê¸‰ì‚¬ëª… í‘œì‹œ
                    const companyName = supplierData.companyName || supplierData.name || 'ê³µê¸‰ì‚¬';
                    document.getElementById('supplierName').textContent = `[${companyName}] ë§ì¶¤ ì œì•ˆì„œ`;

                    // ìš°ì¸¡ íŒ¨ë„ ì •ë³´ í‘œì‹œ
                    document.getElementById('infoCompany').textContent = companyName;
                    document.getElementById('infoManager').textContent = supplierData.managerName || supplierData.manager || '-';
                    document.getElementById('infoPhone').textContent = supplierData.phone || supplierData.contact || '-';

                    // ì˜¨ë³´ë”© ìŠ¬ë¼ì´ë“œ ì •ë³´ í‘œì‹œ
                    document.getElementById('summaryCompany').textContent = companyName;
                    document.getElementById('summaryManager').textContent = supplierData.managerName || supplierData.manager || '-';
                    document.getElementById('summaryPhone').textContent = supplierData.phone || supplierData.contact || '-';
                    document.getElementById('summaryProduct').textContent = supplierData.productName || supplierData.product || '-';

                    // ì¡°íšŒìˆ˜ ì¦ê°€
                    await db.collection('proposalDerivatives').doc(proposalId).update({
                        viewCount: firebase.firestore.FieldValue.increment(1),
                        lastViewedAt: new Date().toISOString()
                    });
                }
            } catch (err) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', err);
            }
        }

        // ë„¤ë¹„ê²Œì´ì…˜ ë Œë”ë§
        function renderNavigation() {
            const nav = document.getElementById('sidebarNav');
            const pages = [
                { num: 1, title: 'ëª¨ì—¬ë¼ë”œ ì†Œê°œ', thumb: 'ğŸ›’' },
                { num: 2, title: 'ê³µê¸‰ì‚¬ í˜œíƒ', thumb: 'ğŸ’°' },
                { num: 3, title: 'í˜‘ì—… êµ¬ì¡°', thumb: 'ğŸ”„' },
                { num: 4, title: 'ìˆ˜ìµ ë¹„êµ', thumb: 'ğŸ“Š' },
                { num: 5, title: 'ì…ì  ì‹ ì²­', thumb: 'âœ…' },
                { num: 6, title: 'ì™„ë£Œ', thumb: 'ğŸ‰' }
            ];

            nav.innerHTML = pages.map(page => `
                <div class="nav-item ${page.num === currentSlide ? 'active' : ''}" onclick="goToSlide(${page.num})">
                    <div class="nav-thumb">${page.thumb}</div>
                    <div class="nav-info">
                        <div class="nav-page-num">${String(page.num).padStart(2, '0')} PAGE</div>
                        <div class="nav-title">${page.title}</div>
                    </div>
                </div>
            `).join('');
        }

        // ìŠ¬ë¼ì´ë“œ ì´ë™
        function goToSlide(num) {
            if (num < 1 || num > totalSlides) return;
            if (num === 6 && !canComplete()) {
                showToast('í˜‘ì—… ì¡°ê±´ì— ë™ì˜í•´ì£¼ì„¸ìš”', 'error');
                return;
            }

            const slides = document.querySelectorAll('.slide');
            const prevSlideEl = slides[currentSlide - 1];
            const nextSlideEl = slides[num - 1];

            prevSlideEl.classList.remove('active');
            prevSlideEl.classList.add(num > currentSlide ? 'prev' : '');

            setTimeout(() => {
                prevSlideEl.classList.remove('prev');
            }, 500);

            currentSlide = num;
            nextSlideEl.classList.add('active');

            renderNavigation();
            updateControls();
            closeSidebar();
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                if (currentSlide === 5 && !canComplete()) {
                    showToast('í˜‘ì—… ì¡°ê±´ì— ë™ì˜í•´ì£¼ì„¸ìš”', 'error');
                    return;
                }
                goToSlide(currentSlide + 1);
            }
        }

        function prevSlide() {
            if (currentSlide > 1) {
                goToSlide(currentSlide - 1);
            }
        }

        function goToOnboardingSlide() {
            goToSlide(5);
        }

        // ì»¨íŠ¸ë¡¤ ì—…ë°ì´íŠ¸
        function updateControls() {
            document.getElementById('currentPage').textContent = currentSlide;
            document.getElementById('currentPageNum').textContent = String(currentSlide).padStart(2, '0');
            document.getElementById('progressFill').style.width = `${(currentSlide / totalSlides) * 100}%`;
            document.getElementById('progressText').textContent = currentSlide;

            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').style.display = currentSlide >= 5 ? 'none' : 'flex';

            // CTA ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
            const ctaBtn = document.getElementById('ctaBtn');
            if (currentSlide === 6) {
                ctaBtn.style.display = 'none';
            } else if (currentSlide === 5) {
                ctaBtn.innerHTML = '<i class="fas fa-check-double"></i> ë™ì˜í•˜ê³  ì…ì  ì™„ë£Œ';
                ctaBtn.onclick = submitOnboarding;
            } else {
                ctaBtn.innerHTML = '<i class="fas fa-rocket"></i> ì…ì  ì‹ ì²­í•˜ê¸°';
                ctaBtn.onclick = goToOnboardingSlide;
                ctaBtn.style.display = 'flex';
            }
        }

        // ë™ì˜ ì²´í¬ í† ê¸€
        function toggleAgree(el) {
            const key = el.dataset.agree;
            agreements[key] = !agreements[key];
            el.classList.toggle('checked', agreements[key]);
            updateAllAgreeBtn();
            updateSubmitBtn();
        }

        function toggleAllAgree() {
            const allChecked = Object.values(agreements).every(v => v);
            const newValue = !allChecked;

            Object.keys(agreements).forEach(key => {
                agreements[key] = newValue;
            });

            document.querySelectorAll('.agreement-checkbox').forEach(el => {
                el.classList.toggle('checked', newValue);
            });

            updateAllAgreeBtn();
            updateSubmitBtn();
        }

        function updateAllAgreeBtn() {
            const allChecked = Object.values(agreements).every(v => v);
            const btn = document.getElementById('allAgreeBtn');
            btn.classList.toggle('agreed', allChecked);
            btn.innerHTML = allChecked
                ? '<i class="fas fa-check-double"></i> ëª¨ë‘ ë™ì˜ ì™„ë£Œ!'
                : '<i class="fas fa-check-double"></i> ì „ì²´ ë™ì˜í•˜ê¸°';
        }

        function updateSubmitBtn() {
            const allChecked = Object.values(agreements).every(v => v);
            document.getElementById('submitOnboardingBtn').disabled = !allChecked;
        }

        // ì™„ë£Œ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
        function canComplete() {
            return Object.values(agreements).every(v => v);
        }

        // ì˜¨ë³´ë”© ì™„ë£Œ ì œì¶œ
        async function submitOnboarding() {
            if (!canComplete()) {
                showToast('ëª¨ë“  í˜‘ì—… ì¡°ê±´ì— ë™ì˜í•´ì£¼ì„¸ìš”', 'error');
                return;
            }

            try {
                // proposalDerivatives ì—…ë°ì´íŠ¸
                await db.collection('proposalDerivatives').doc(proposalId).update({
                    stage: 'onboarding_complete',
                    agreements: agreements,
                    onboardingCompletedAt: new Date().toISOString()
                });

                showToast('ì…ì ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                goToSlide(6);

            } catch (err) {
                console.error('ì œì¶œ ì‹¤íŒ¨:', err);
                showToast('ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
            }
        }

        // ì‚¬ì´ë“œë°” í† ê¸€
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('open');
        }

        // ì „ì²´í™”ë©´
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // íšŒì „ ì•ˆë‚´ ìŠ¤í‚µ
        function skipRotateNotice() {
            document.getElementById('rotateNotice').classList.add('hidden');
        }

        // í† ìŠ¤íŠ¸
        function showToast(message, type = '') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast show ' + type;

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
